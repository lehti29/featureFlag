function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray2(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray2(e)}function _arrayLikeToArray2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf2(i,n.prototype),i}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf2(e)););return e}function _inherits2(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf2(e,t)}function _setPrototypeOf2(e,t){return(_setPrototypeOf2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf2(e);if(t){var i=_getPrototypeOf2(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn2(this,n)}}function _possibleConstructorReturn2(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf2(e){return(_getPrototypeOf2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},CfmU:function(e){e.exports=JSON.parse('{"a":"10.14.1"}')},MgzW:function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},aqdR:function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=y(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},s.prototype.on=s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,d(this,e,t)),this},s.prototype.off=s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},s.prototype.listenerCount=v,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},u3xc:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<128?t(127&n):n<2048?(t(n>>6&31|192),t(63&n|128)):n<65536?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128)),n=null},decodeUTF8:function(e,t){for(var n,r,i,o,a=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(n=e());)if(0==(128&n))t(n);else if(192==(224&n))null===(r=e())&&a([n,r]),t((31&n)<<6|63&r);else if(224==(240&n))(null===(r=e())||null===(i=e()))&&a([n,r,i]),t((15&n)<<12|(63&r)<<6|63&i);else{if(240!=(248&n))throw RangeError("Illegal starting byte: "+n);(null===(r=e())||null===(i=e())||null===(o=e()))&&a([n,r,i,o]),t((7&n)<<18|(63&r)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(e,t){for(var n,r=null;null!==(n=null!==r?r:e());)n>=55296&&n<=57343&&null!==(r=e())&&r>=56320&&r<=57343?(t(1024*(n-55296)+r-56320+65536),r=null):t(n);null!==r&&t(r)},UTF8toUTF16:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<=65535?t(n):(t(55296+((n-=65536)>>10)),t(n%1024+56320)),n=null},encodeUTF16toUTF8:function(t,n){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,n)}))},decodeUTF8toUTF16:function(t,n){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,n)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,n=0;null!==(t=e());)n+=t<128?1:t<2048?2:t<65536?3:4;return n},calculateUTF16asUTF8:function(t){var n=0,r=0;return e.UTF16toUTF8(t,(function(e){++n,r+=e<128?1:e<2048?2:e<65536?3:4})),[n,r]}},t=String.fromCharCode;return e.arraySource=function(e){if(!Array.isArray(e))throw TypeError("Illegal argument: "+typeof e);var t=0;return function(){return t>=e.length?null:e[t++]}},e.arrayDestination=function(e){if(!Array.isArray(e))throw TypeError("Illegal argument: "+typeof e);return Array.prototype.push.bind(e)},e.stringSource=function(e){if("string"!=typeof e)throw TypeError("Illegal argument: "+typeof e);var t=0;return function(){return t>=e.length?null:e.charCodeAt(t++)}},e.stringDestination=function(){var e=[],n=[];return function(){if(0===arguments.length)return n.join("")+t.apply(String,e);e.length+arguments.length>1024&&(n.push(t.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}},e.assertCharCode=function(e){if("number"!=typeof e||e!=e)throw TypeError("Illegal char code: "+typeof e);if(e<0||e>65535)throw RangeError("Illegal char code: "+e);return e},e.assertCodePoint=function(t){if("number"!=typeof t||t!=t)throw TypeError("Illegal code point: "+typeof t);if(t<0||t>e.MAX_CODEPOINT)throw RangeError("Illegal code point: "+t);return t},e.fromCodePoint=function(t){var n,r=0,i=arguments,o=i.length;return e.UTF8toUTF16((function(){return r<o?e.assertCodePoint(i[r++]):null}),n=e.stringDestination()),n()},e.codePointAt=function(t,n){if("string"!=typeof t&&!(t&&t instanceof String)||"number"!=typeof n)throw TypeError("Illegal arguments: "+typeof t+", "+typeof n);var r,i;if(!(n<0||n>=(r=t.length)))return e.UTF16toUTF8((function(){return void 0===i&&n<r?t.charCodeAt(n++):null}),(function(e){i=e})),i},e.polyfill=function(t){return String.fromCodePoint&&!t||(String.fromCodePoint=e.fromCodePoint),String.prototype.codePointAt&&!t||(String.prototype.codePointAt=function(t){return e.codePointAt(this,t)}),e},e})?r.call(t,n,t,e):r)||(e.exports=i)},y5ZV:function(e,t,n){e.exports=n("u3xc")},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function a(e){setTimeout((function(){throw e}),0)}var s={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function c(e){return null!==e&&"object"==typeof e}var l,f=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),h=((l=function(){function e(t){_classCallCheck2(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(r(i))try{i.call(this)}catch(p){t=p instanceof f?d(p.errors):[p]}if(u(o))for(var s=-1,l=o.length;++s<l;){var h=o[s];if(c(h))try{h.unsubscribe()}catch(p){t=t||[],p instanceof f?t=t.concat(d(p.errors)):t.push(p)}}if(t)throw new f(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new l),l);function d(e){return e.reduce((function(e,t){return e.concat(t instanceof f?t.errors:t)}),[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),v=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r,i){var o;switch(_classCallCheck2(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!e){o.destination=s;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),e,r,i)}return o}return _createClass(n,[{key:p,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf2(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(h),y=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,i,o,a){var u,c;_classCallCheck2(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return r(i)?c=i:i&&(c=i.next,o=i.error,a=i.complete,i!==s&&(r((l=Object.create(i)).unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=o,u._complete=a,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(a(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(v),g="function"==typeof Symbol&&Symbol.observable||"@@observable";function m(e){return e}var _,b=((_=function(){function e(t){_classCallCheck2(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof v)return e;if(e[p])return e[p]()}return e||t||n?new v(e,t,n):new v(s)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof v?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=k(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:g,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:(0===(r=t).length?m:1===r.length?r[0]:function(e){return r.reduce((function(e,t){return t(e)}),e)})(this);var r}},{key:"toPromise",value:function(e){var t=this;return new(e=k(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new _(e)},_);function k(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var S,T=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),E=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(h),w=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).destination=e,r}return n}(v),C=((S=function(e){_inherits2(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:p,value:function(){return new w(this)}},{key:"lift",value:function(e){var t=new A(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new T;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new T;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new T;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new T;return _get(_getPrototypeOf2(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new T;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new E(this,e))}},{key:"asObservable",value:function(){var e=new b;return e.source=this,e}}]),n}(b)).create=function(e,t){return new A(e,t)},S),A=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):h.EMPTY}}]),n}(C),I=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(v),N=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};var O="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",R=function(e){if(e&&"function"==typeof e[g])return o=e,function(e){var t=o[g]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((t=e)&&"number"==typeof t.length&&"function"!=typeof t)return N(e);var t,n,r,i,o;if((n=e)&&"function"!=typeof n.subscribe&&"function"==typeof n.then)return i=e,function(e){return i.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,a),e};if(e&&"function"==typeof e[O])return r=e,function(e){for(var t=r[O]();;){var n=t.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof t.return&&e.add((function(){t.return&&t.return()})),e};var s=c(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(s," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))},D=function(e){_inherits2(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(v),x=function(){function e(t,n){_classCallCheck2(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new P(e,this.project,this.thisArg))}}]),e}(),P=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(v),M=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck2(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new F(e,this.project,this.concurrent))}}]),e}(),F=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck2(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new I(this,t,n),i=this.destination;i.add(r);var o=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new I(e,n,r);if(!i.closed)return t instanceof b?t.subscribe(i):R(t)(i)}(this,e,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(D);function L(){return function(e){return e.lift(new H(e))}}var j,H=function(){function e(t){_classCallCheck2(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new U(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),U=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(v),V={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(j=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new h).add(this.source.subscribe(new G(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}},{key:"refCount",value:function(){return L()(this)}}]),n}(b).prototype)._subscribe},_isComplete:{value:j._isComplete,writable:!0},getSubject:{value:j.getSubject},connect:{value:j.connect},refCount:{value:j.refCount}},G=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf2(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf2(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(w);function K(){return new C}function B(e){return{toString:e}.toString()}function W(e,t,n){return B((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var z=W("Inject",(function(e){return{token:e}})),q=W("Optional"),Y=W("Self"),Z=W("SkipSelf"),Q=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function J(e){for(var t in e)if(e[t]===J)return t;throw Error("Could not find renamed property on target object.")}function $(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function X(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function ee(e){return te(e,e[re])||te(e,e[ae])}function te(e,t){return t&&t.token===e?t:null}function ne(e){return e&&(e.hasOwnProperty(ie)||e.hasOwnProperty(se))?e[ie]:null}var re=J({"\u0275prov":J}),ie=J({"\u0275inj":J}),oe=J({"\u0275provFallback":J}),ae=J({ngInjectableDef:J}),se=J({ngInjectorDef:J});function ue(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ue).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ce(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var le=J({__forward_ref__:J});function fe(e){return e.__forward_ref__=fe,e.toString=function(){return ue(this())},e}function he(e){return"function"==typeof(t=e)&&t.hasOwnProperty(le)&&t.__forward_ref__===fe?e():e;var t}var de,pe="undefined"!=typeof globalThis&&globalThis,ve="undefined"!=typeof window&&window,ye="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ge="undefined"!=typeof global&&global,me=pe||ge||ve||ye,_e=J({"\u0275cmp":J}),be=J({"\u0275dir":J}),ke=J({"\u0275pipe":J}),Se=J({"\u0275mod":J}),Te=J({"\u0275loc":J}),Ee=J({"\u0275fac":J}),we=J({__NG_ELEMENT_ID__:J}),Ce=function(){function e(t,n){_classCallCheck2(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),Ae=new Ce("INJECTOR",-1),Ie={},Ne=/\n/gm,Oe=J({provide:String,useValue:J}),Re=void 0;function De(e){var t=Re;return Re=e,t}function xe(e){var t=de;return de=e,t}function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.Default;if(void 0===Re)throw new Error("inject() must be called from an injection context");return null===Re?Fe(e,void 0,t):Re.get(e,t&Q.Optional?null:void 0,t)}function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.Default;return(de||Pe)(he(e),t)}function Fe(e,t,n){var r=ee(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Q.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(ue(e),"]"))}function Le(e){for(var t=[],n=0;n<e.length;n++){var r=he(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=Q.Default,a=0;a<r.length;a++){var s=r[a];s instanceof q||"Optional"===s.ngMetadataName||s===q?o|=Q.Optional:s instanceof Z||"SkipSelf"===s.ngMetadataName||s===Z?o|=Q.SkipSelf:s instanceof Y||"Self"===s.ngMetadataName||s===Y?o|=Q.Self:i=s instanceof z||s===z?s.token:s}t.push(Me(i,o))}else t.push(Me(r))}return t}var je=function(){function e(){_classCallCheck2(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie;if(t===Ie){var n=new Error("NullInjectorError: No provider for ".concat(ue(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),He=function e(){_classCallCheck2(this,e)};function Ue(e,t){e.forEach((function(e){return Array.isArray(e)?Ue(e,t):t(e)}))}function Ve(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ge(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Ke=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Be=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),We={},ze=[],qe=0;function Ye(e){return B((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===Ke.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ze,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Be.Emulated,id:"c",styles:e.styles||ze,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return i.id+=qe++,i.inputs=Xe(e.inputs,r),i.outputs=Xe(e.outputs),a&&a.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(Ze)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Qe)}:null,i}))}function Ze(e){return tt(e)||function(e){return e[be]||null}(e)}function Qe(e){return function(e){return e[ke]||null}(e)}var Je={};function $e(e){var t={type:e.type,bootstrap:e.bootstrap||ze,declarations:e.declarations||ze,imports:e.imports||ze,exports:e.exports||ze,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&B((function(){Je[e.id]=e.type})),t}function Xe(e,t){if(null==e)return We;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var et=Ye;function tt(e){return e[_e]||null}function nt(e,t){return e.hasOwnProperty(Ee)?e[Ee]:null}function rt(e,t){var n=e[Se]||null;if(!n&&!0===t)throw new Error("Type ".concat(ue(e)," does not have '\u0275mod' property."));return n}function it(e){return Array.isArray(e)&&"object"==typeof e[1]}function ot(e){return Array.isArray(e)&&!0===e[1]}function at(e){return 0!=(8&e.flags)}function st(e){return 2==(2&e.flags)}function ut(e){return 1==(1&e.flags)}function ct(e){return null!==e.template}function lt(e){return 0!=(512&e[2])}var ft=void 0;function ht(e){return!!e.listen}var dt={createRenderer:function(e,t){return void 0!==ft?ft:"undefined"!=typeof document?document:void 0}};function pt(e){for(;Array.isArray(e);)e=e[0];return e}function vt(e,t){return pt(t[e.index])}function yt(e,t){return e.data[t+20]}function gt(e,t){var n=t[e];return it(n)?n:n[0]}function mt(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function _t(e){return 128==(128&e[2])}function bt(e,t){return null===e||null==t?null:e[t]}function kt(e){e[18]=0}function St(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Tt={lFrame:jt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Et(){return Tt.bindingsEnabled}function wt(){return Tt.lFrame.lView}function Ct(){return Tt.lFrame.tView}function At(){return Tt.lFrame.previousOrParentTNode}function It(e,t){Tt.lFrame.previousOrParentTNode=e,Tt.lFrame.isParent=t}function Nt(){return Tt.lFrame.isParent}function Ot(){return Tt.checkNoChangesMode}function Rt(e){Tt.checkNoChangesMode=e}function Dt(e,t){var n=Tt.lFrame;n.bindingIndex=n.bindingRootIndex=e,xt(t)}function xt(e){Tt.lFrame.currentDirectiveIndex=e}function Pt(e){Tt.lFrame.currentQueryIndex=e}function Mt(e,t){var n=Lt();Tt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function Ft(e,t){var n=Lt(),r=e[1];Tt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function Lt(){var e=Tt.lFrame,t=null===e?null:e.child;return null===t?jt(e):t}function jt(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Ht(){var e=Tt.lFrame;return Tt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Ut=Ht;function Vt(){var e=Ht();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Gt(){return Tt.lFrame.selectedIndex}function Kt(e){Tt.lFrame.selectedIndex=e}function Bt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function Wt(e,t,n){Yt(e,t,3,n)}function zt(e,t,n,r){(3&e[2])===n&&Yt(e,t,n,r)}function qt(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Yt(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Zt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Zt(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(a)):o.call(a)}var Qt=function e(t,n,r){_classCallCheck2(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Jt(e,t,n){for(var r=ht(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];$t(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function $t(e){return 64===e.charCodeAt(0)}function Xt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||en(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function en(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function tn(e){return-1!==e}function nn(e){return 32767&e}function rn(e){return e>>16}function on(e,t){for(var n=rn(e),r=t;n>0;)r=r[15],n--;return r}function an(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function(e){return"string"==typeof e?e:null==e?"":""+e}(e)}var sn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(me);function un(e){return e instanceof Function?e():e}var cn=!0;function ln(e){var t=cn;return cn=e,t}var fn=0;function hn(e,t){var n=pn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,dn(r.data,e),dn(t,null),dn(r.blueprint,null));var i=vn(e,t),o=e.injectorIndex;if(tn(i))for(var a=nn(i),s=on(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function dn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function vn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function yn(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[we]:n.charCodeAt(0)||0;null==r&&(r=n[we]=fn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=t.data;128&i?a?s?u[e+7]|=o:u[e+6]|=o:s?u[e+5]|=o:u[e+4]|=o:a?s?u[e+3]|=o:u[e+2]|=o:s?u[e+1]|=o:u[e]|=o}(e,t,n)}function gn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Q.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[we];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){Mt(t,e);try{var a=o();if(null!=a||r&Q.Optional)return a;throw new Error("No provider for ".concat(an(n),"!"))}finally{Ut()}}else if("number"==typeof o){if(-1===o)return new Tn(e,t);var s=null,u=pn(e,t),c=-1,l=r&Q.Host?t[16][6]:null;for((-1===u||r&Q.SkipSelf)&&(c=-1===u?vn(e,t):t[u+8],Sn(r,!1)?(s=t[1],u=nn(c),t=on(c,t)):u=-1);-1!==u;){c=t[u+8];var f=t[1];if(kn(o,u,f.data)){var h=_n(u,t,n,s,r,l);if(h!==mn)return h}Sn(r,t[1].data[u+8]===l)&&kn(o,u,t)?(s=f,u=nn(c),t=on(c,t)):u=-1}}}if(r&Q.Optional&&void 0===i&&(i=null),0==(r&(Q.Self|Q.Host))){var d=t[9],p=xe(void 0);try{return d?d.get(n,i,r&Q.Optional):Fe(n,i,r&Q.Optional)}finally{xe(p)}}if(r&Q.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(an(n),"]"))}var mn={};function _n(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=function(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,u=e.directiveStart,c=o>>16,l=i?s+c:e.directiveEnd,f=r?s:s+c;f<l;f++){var h=a[f];if(f<u&&n===h||f>=u&&h.type===n)return f}if(i){var d=a[u];if(d&&ct(d)&&d.type===n)return u}return null}(s,a,n,null==r?st(s)&&cn:r!=a&&3===s.type,i&Q.Host&&o===s);return null!==u?bn(t,a,u,s):mn}function bn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof Qt){var a=i;if(a.resolving)throw new Error("Circular dep for "+an(o[n]));var s,u=ln(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=xe(a.injectImpl)),Mt(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&xe(s),ln(u),a.resolving=!1,Ut()}}return i}function kn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function Sn(e,t){return!(e&Q.Self||e&Q.Host&&t)}var Tn=function(){function e(t,n){_classCallCheck2(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return gn(this._tNode,this._lView,e,void 0,t)}}]),e}();function En(e){return e.ngDebugContext}function wn(e){return e.ngOriginalError}function Cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var An=function(){function e(){_classCallCheck2(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Cn}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?En(e)?En(e):this._findContext(wn(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=wn(e);t&&wn(t);)t=wn(t);return t}}]),e}(),In=!0,Nn=!1;function On(){return Nn=!0,In}function Rn(e,t){e.__ngContext__=t}function Dn(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function xn(){throw new Error("Cannot mix multi providers and regular providers")}function Pn(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Mn(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Pn((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Fn(e){return 0===e.type&&"ng-template"!==e.tagName}function Ln(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function jn(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(3===(n=e[t])||4===n||6===n)return t;var n;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Ln(e,u,n)||""===u&&1===t.length){if(Hn(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!Mn(e.attrs,c,n)){if(Hn(r))return!1;a=!0}continue}var l=Un(8&r?"class":u,i,Fn(e),n);if(-1===l){if(Hn(r))return!1;a=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==Pn(h,c,0)||2&r&&c!==f){if(Hn(r))return!1;a=!0}}}}else{if(!a&&!Hn(r)&&!Hn(u))return!1;if(a&&Hn(u))continue;a=!1,r=u|1&r}}return Hn(r)||a}function Hn(e){return 0==(1&e)}function Un(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Vn(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(jn(e,t[r],n))return!0;return!1}function Gn(e,t){return e?":not("+t.trim()+")":t}function Kn(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Hn(a)||(t+=Gn(o,i),i=""),r=a,o=o||!Hn(r);n++}return""!==i&&(t+=Gn(o,i)),t}var Bn={};function Wn(e){var t=e[3];return ot(t)?t[3]:t}function zn(e){return Yn(e[13])}function qn(e){return Yn(e[4])}function Yn(e){for(;null!==e&&!ot(e);)e=e[4];return e}function Zn(e){Qn(Ct(),wt(),Gt()+e,Ot())}function Qn(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Wt(t,i,n)}else{var o=e.preOrderHooks;null!==o&&zt(t,o,0,n)}Kt(n)}function Jn(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];Pt(i),a.contentQueries(2,t[o],o)}}}function $n(e,t,n){return ht(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Xn(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,kt(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function er(e,t,n,r,i,o){var a=n+20,s=e.data[a]||function(e,t,n,r,i,o){var a=At(),s=Nt(),u=s?a:a&&a.parent,c=e.data[n]=cr(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(e,t,a,r,i,o);return It(s,!0),s}function tr(e,t,n){Ft(t,t[6]);try{var r=e.viewQuery;null!==r&&Nr(1,r,n);var i=e.template;null!==i&&ir(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Jn(e,t),e.staticViewQueries&&Nr(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)wr(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,Vt()}}function nr(e,t,n,r){var i=t[2];if(256!=(256&i)){Ft(t,t[6]);var o=Ot();try{kt(t),Tt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&ir(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&Wt(t,s,null)}else{var u=e.preOrderHooks;null!==u&&zt(t,u,0,null),qt(t,0)}if(function(e){for(var t=zn(e);null!==t;t=qn(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&St(o,1),i[2]|=1024}}(t),function(e){for(var t=zn(e);null!==t;t=qn(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];_t(r)&&nr(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Jn(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&Wt(t,c)}else{var l=e.contentHooks;null!==l&&zt(t,l,1),qt(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Kt(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(Dt(r,i),a(2,t[i])),i++)}}finally{Kt(-1)}}(e,t);var f=e.components;null!==f&&function(e,t){for(var n=0;n<t.length;n++)Er(e,t[n])}(t,f);var h=e.viewQuery;if(null!==h&&Nr(2,h,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&Wt(t,d)}else{var p=e.viewHooks;null!==p&&zt(t,p,2),qt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,St(t[3],-1))}finally{Vt()}}}function rr(e,t,n,r){var i=t[10],o=!Ot(),a=4==(4&t[2]);try{o&&!a&&i.begin&&i.begin(),a&&tr(e,t,r),nr(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function ir(e,t,n,r,i){var o=Gt();try{Kt(-1),2&r&&t.length>20&&Qn(e,t,0,Ot()),n(r,i)}finally{Kt(o)}}function or(e,t,n){Et()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||hn(n,t),Rn(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=ct(u);c&&br(t,n,u);var l=bn(t,e,s,n);Rn(l,t),null!==a&&kr(0,s-i,l,u,0,a),c&&(gt(n.index,t)[8]=l)}}(e,t,n,vt(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-20,u=Tt.lFrame.currentDirectiveIndex;try{Kt(s);for(var c=r;c<i;c++){var l=e.data[c],f=t[c];xt(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?pr(l,f):a&&o.push(null)}}finally{Kt(-1),xt(u)}}(e,t,n))}function ar(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vt,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function sr(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ur(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ur(e,t,n,r,i,o,a,s,u,c){var l=20+r,f=l+i,h=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Bn);return n}(l,f);return h[1]={type:e,id:t,blueprint:h,template:n,queries:null,viewQuery:s,node:null,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function cr(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function lr(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function fr(e,t,n,r){var i=!1;if(Et()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Vn(n,a.selectors,!1)&&(i||(i=[]),yn(hn(n,t),e,a.type),ct(a)?(2&n.flags&&Dn(n),yr(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,mr(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}vr(e,n,o.length);for(var l=!1,f=!1,h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=Xt(n.mergedAttrs,d.hostAttrs),_r(e,t,d),gr(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),l=!0),f||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),f=!0),hr(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,f=null===i||Fn(t)?null:Sr(l,i);o.push(f),a=lr(l,u,a),s=lr(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),dr(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Xt(n.mergedAttrs,n.attrs),i}function hr(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function dr(e,t,n){for(var r=0;r<n;r++)t.push(Bn),e.blueprint.push(Bn),e.data.push(null)}function pr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function vr(e,t,n){var r=20-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function yr(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function gr(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ct(t)&&(n[""]=e)}}function mr(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function _r(e,t,n){e.data.push(n);var r=n.factory||(n.factory=nt(n.type)),i=new Qt(r,ct(n),null);e.blueprint.push(i),t.push(i)}function br(e,t,n){var r=vt(t,e),i=sr(n),o=e[10],a=Cr(e,Xn(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function kr(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],f=a[u++];null!==s?r.setInput(n,f,c,l):n[l]=f}}function Sr(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Tr(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Er(e,t){var n=gt(t,e);if(_t(n)){var r=n[1];80&n[2]?nr(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=zn(t);null!==n;n=qn(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];nr(o,i,o.template,i[8])}else i[5]>0&&e(i)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=gt(a[s],t);_t(u)&&u[5]>0&&e(u)}}(n)}}function wr(e,t){var n=gt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),tr(r,n,n[8])}function Cr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Ar(e,t,n){var r=t[10];r.begin&&r.begin();try{nr(e,t,e.template,n)}catch(i){throw function(e,t){var n=e[9],r=n?n.get(An,null):null;r&&r.handleError(t)}(t,i),i}finally{r.end&&r.end()}}function Ir(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=mt(n),i=r[1];rr(i,r,i.template,n)}}(e[8])}function Nr(e,t,n){Pt(0),t(e,n)}var Or=Promise.resolve(null);function Rr(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Dr(e,t){var n=t[3];return-1===e.index?ot(n)?n:null:n}function xr(e,t){var n=Dr(e,t);return n?Br(t[11],n[7]):null}function Pr(e,t,n,r,i){if(null!=r){var o,a=!1;ot(r)?o=r:it(r)&&(a=!0,r=r[0]);var s=pt(r);0===e&&null!==n?null==i?Gr(t,n,s):Vr(t,n,s,i||null):1===e&&null!==n?Vr(t,n,s,i||null):2===e?function(e,t,n){var r=Br(e,t);r&&function(e,t,n,r){ht(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==pt(n)&&Pr(t,e,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Yr(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function Mr(e,t,n,r){var i=xr(e.node,t);i&&Yr(e,t,t[11],n?1:2,i,r)}function Fr(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&St(t[3],-1),n.splice(r,1)}function Lr(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Fr(i,r),t>0&&(e[n-1][4]=r[4]);var o=Ge(e,10+t);Mr(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function jr(e,t){if(!(256&t[2])){var n=t[11];ht(n)&&n.destroyNode&&Yr(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Ur(e[1],e);for(;t;){var n=null;if(it(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)it(t)&&Ur(t[1],t),t=Hr(t,e);null===t&&(t=e),it(t)&&Ur(t[1],t),n=t&&t[4]}t=n}}(t)}}function Hr(e,t){var n;return it(e)&&(n=e[6])&&2===n.type?Dr(n,e):e[3]===t?null:e[3]}function Ur(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Qt)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):pt(t[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&ht(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&ot(t[3])){r!==t[3]&&Fr(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function Vr(e,t,n,r){ht(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Gr(e,t,n){ht(e)?e.appendChild(t,n):t.appendChild(n)}function Kr(e,t,n,r){null!==r?Vr(e,t,n,r):Gr(e,t,n)}function Br(e,t){return ht(e)?e.parentNode(t):t.parentNode}function Wr(e,t,n,r){var i=function(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?xr(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return vt(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==Be.ShadowDom&&a!==Be.Native)return null}return vt(r,n)}(e,r,t);if(null!=i){var o=t[11],a=function(e,t){if(2===e.type){var n=Dr(e,t);return null===n?null:zr(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?vt(e,t):null}(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)Kr(o,i,n[s],a);else Kr(o,i,n,a)}}function zr(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return vt(n,t);if(0===r)return zr(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return ot(o)?zr(-1,o):pt(o)}var a=t[16],s=a[6],u=Wn(a),c=s.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function qr(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===t&&(s&&Rn(pt(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(qr(e,t,n.child,r,i,o,!1),Pr(t,e,i,s,o)):1===u?Zr(e,t,r,n,i,o):Pr(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function Yr(e,t,n,r,i,o){qr(n,r,e.node.child,t,i,o,!1)}function Zr(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Pr(t,e,i,s[u],o);else qr(e,t,s,a[3],i,o,!0)}function Qr(e,t,n){ht(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Jr(e,t,n){ht(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var $r,Xr,ei,ti=function(){function e(t,n){_classCallCheck2(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}jr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r,i;t=this._lView[1],r=e,(i=n=this._lView,i[7]||(i[7]=[])).push(r),t.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){!function(e){for(;e;){e[2]|=64;var t=Wn(e);if(lt(e)&&!t)return e;e=t}}(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ar(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Rt(!0);try{Ar(e,t,n)}finally{Rt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Yr(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(pt(a)),ot(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&e(u[1],u,c,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var f=n[16],h=f[6].projection[r.projection];if(Array.isArray(h))i.push.apply(i,_toConsumableArray(h));else{var d=Wn(f);e(d[1],d,h,i,!0)}}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),ni=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){Ir(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Rt(!0);try{Ir(e)}finally{Rt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(ti);function ri(e,t,n){return $r||($r=function(e){_inherits2(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(e)),new $r(vt(t,n))}var ii=new Ce("Set Injector scope."),oi={},ai={},si=[],ui=void 0;function ci(){return void 0===ui&&(ui=new je),ui}function li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new fi(e,n,t||ci(),r)}var fi=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck2(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&Ue(n,(function(e){return i.processProvider(e,t,n)})),Ue([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(Ae,di(void 0,this));var s=this.records.get(ii);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:ue(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q.Default;this.assertNotDestroyed();var r,i=De(this);try{if(!(n&Q.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Ce)&&ee(e);o=a&&this.injectableDefInScope(a)?di(hi(e),oi):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&Q.Self?ci():this.parent).get(e,t=n&Q.Optional&&t===Ie?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(ue(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=ue(t);if(Array.isArray(t))i=t.map(ue).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):ue(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Ne,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{De(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(ue(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=he(e)))return!1;var i=ne(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=ne(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{Ue(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;Ue(i,(function(e){return r.processProvider(e,n,i||si)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,di(i.factory,oi));var f=i.providers;if(null!=f&&!s){var h=e;Ue(f,(function(e){return r.processProvider(e,h,f)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=vi(e=he(e))?e:he(e&&e.provide),i=function(e,t,n){return pi(e)?di(void 0,e.useValue):di(function(e,t,n){var r,i=void 0;if(vi(e)){var o=he(e);return nt(o)||hi(o)}if(pi(e))i=function(){return he(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(Le(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Me(he(e.useExisting))};else{var a=he(e&&(e.useClass||e.provide));if(a||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(ue(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return nt(a)||hi(a);i=function(){return _construct(a,_toConsumableArray(Le(e.deps)))}}return i}(e,t,n),oi)}(e,t,n);if(vi(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&xn()}else{var a=this.records.get(r);a?void 0===a.multi&&xn():((a=di(void 0,oi,!0)).factory=function(){return Le(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===ai?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(ue(e)):t.value===oi&&(t.value=ai,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function hi(e){var t=ee(e),n=null!==t?t.factory:nt(e);if(null!==n)return n;var r=ne(e);if(null!==r)return r.factory;if(e instanceof Ce)throw new Error("Token ".concat(ue(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=function(e,t){for(var n=[],r=0;r<e;r++)n.push("?");return n}(t);throw new Error("Can't resolve all parameters for ".concat(ue(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[re]||e[ae]||e[oe]&&e[oe]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function di(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function pi(e){return null!==e&&"object"==typeof e&&Oe in e}function vi(e){return"function"==typeof e}var yi=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=li(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},gi=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?yi(e,t,""):yi(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Ie,e.NULL=new je,e.\u0275prov=$({token:e,providedIn:"any",factory:function(){return Me(Ae)}}),e.__NG_ELEMENT_ID__=-1,e}(),mi=new Map,_i=new Set;function bi(e){return"string"==typeof e?e:e.text()}function ki(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=ce(i,s):2==o&&(r=ce(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Si=null;function Ti(){if(!Si){var e=me.Symbol;if(e&&e.iterator)Si=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Si=r)}}return Si}function Ei(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function wi(e){return!!Ci(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ti()in e)}function Ci(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ai(e,t,n,r,i,o,a,s){var u=wt(),c=Ct(),l=e+20,f=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=er(t,n[6],e,0,a||null,bt(c,s));fr(t,n,l,bt(c,u)),Bt(t,l);var f=l.tViews=ur(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),h=cr(0,null,2,-1,null,null);return h.injectorIndex=l.injectorIndex,f.node=h,null!==t.queries&&(t.queries.template(t,l),f.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,a):c.data[l];It(f,!1);var h=u[11].createComment("");Wr(c,u,h,f),Rn(h,u),Cr(u,u[l]=Tr(h,u,h,f)),ut(f)&&or(c,u,f),null!=a&&ar(u,f,s)}function Ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.Default,n=wt();return null==n?Me(e,t):gn(At(),n,he(e),t)}function Ni(e,t,n){var r,i=wt();return function(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}(i,Tt.lFrame.bindingIndex++,t)&&function(e,t,n,r,i,o,a,s){var u,c,l=vt(t,n),f=t.inputs;null!=f&&(u=f[r])?(Rr(e,n,u,r,i),st(t)&&function(e,t){var n=gt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,t.tagName||"",r):i,ht(o)?o.setProperty(l,r,i):$t(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}(Ct(),yt((r=Tt.lFrame).tView,r.selectedIndex),i,e,t,i[11],n),Ni}function Oi(e,t,n,r,i){var o=i?"class":"style";Rr(e,n,t.inputs[o],o,r)}function Ri(e,t,n,r){var i=wt(),o=Ct(),a=20+e,s=i[11],u=i[a]=$n(t,s,Tt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=bt(s,o),c=er(t,n[6],e,3,i,u);return fr(t,n,c,bt(s,a)),null!==c.attrs&&ki(c,c.attrs,!1),null!==c.mergedAttrs&&ki(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[a];It(c,!0);var l=c.mergedAttrs;null!==l&&Jt(s,u,l);var f=c.classes;null!==f&&Jr(s,u,f);var h=c.styles;null!==h&&Qr(s,u,h),Wr(o,i,u,c),0===Tt.lFrame.elementDepthCount&&Rn(u,i),Tt.lFrame.elementDepthCount++,ut(c)&&(or(o,i,c),function(e,t,n){if(at(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&ar(i,c)}function Di(){var e=At();Nt()?Tt.lFrame.isParent=!1:It(e=e.parent,!1);var t=e;Tt.lFrame.elementDepthCount--;var n=Ct();n.firstCreatePass&&(Bt(n,e),at(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Oi(n,t,wt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Oi(n,t,wt(),t.stylesWithoutHost,!1)}function xi(e){return!!e&&"function"==typeof e.then}function Pi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=wt(),r=Ct(),i=e+20,o=r.firstCreatePass?er(r,n[6],e,3,null,null):r.data[i],a=n[i]=function(e,t){return ht(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Wr(r,n,a,o),It(o,!1)}function Mi(e,t){var n=mt(e)[1],r=n.data.length-1;Bt(n,{directiveStart:r,directiveEnd:r+1})}var Fi=function e(){_classCallCheck2(this,e)},Li=function(){function e(){_classCallCheck2(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(ue(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),ji=function(){var e=function e(){_classCallCheck2(this,e)};return e.NULL=new Li,e}(),Hi=function(){var e=function e(t){_classCallCheck2(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Ui(e)},e}(),Ui=function(e){return ri(e,At(),wt())},Vi=function e(){_classCallCheck2(this,e)},Gi=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),Ki=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275prov=$({token:e,providedIn:"root",factory:function(){return null}}),e}(),Bi=new function e(t){_classCallCheck2(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("9.1.12"),Wi=function(){function e(){_classCallCheck2(this,e)}return _createClass(e,[{key:"supports",value:function(e){return wi(e)}},{key:"create",value:function(e){return new qi(e)}}]),e}(),zi=function(e,t){return t},qi=function(){function e(t){_classCallCheck2(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zi}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Ji(n,r,i)?t:n,a=Ji(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<u&&(i[l]=f+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!wi(e))throw new Error("Error trying to diff '".concat(ue(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Ei(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Ei(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Ti()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Ei(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Ei(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ei(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ei(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Yi(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Qi),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qi),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Yi=function e(t,n){_classCallCheck2(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Zi=function(){function e(){_classCallCheck2(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Ei(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Qi=function(){function e(){_classCallCheck2(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Zi,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Ji(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var $i=function(){function e(){_classCallCheck2(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Ci(e)}},{key:"create",value:function(){return new Xi}}]),e}(),Xi=function(){function e(){_classCallCheck2(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Ci(e)))throw new Error("Error trying to diff '".concat(ue(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new eo(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Ei(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),eo=function e(t){_classCallCheck2(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},to=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Z,new q]]}}}]),e}();return e.\u0275prov=$({token:e,providedIn:"root",factory:function(){return new e([new Wi])}}),e}(),no=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Z,new q]]}}}]),e}();return e.\u0275prov=$({token:e,providedIn:"root",factory:function(){return new e([new $i])}}),e}(),ro=[new $i],io=new to([new Wi]),oo=new no(ro),ao=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return so(e,Hi)},e}(),so=function(e,t){return function(e,t,n,r){return Xr||(Xr=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Xn(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),tr(t,n,e),new ti(n)}}]),n}(e)),0===n.type?new Xr(r,n,ri(t,n,r)):null}(e,t,At(),wt())},uo=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return co(e,Hi)},e}(),co=function(e,t){return function(e,t,n,r){var i;ei||(ei=function(e){_inherits2(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck2(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(He,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),ot(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new ei(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],Ve(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),Mr(r,n,!0,zr(s,this._lContainer)),e.attachToViewContainerRef(this),Ve(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=Lr(e,t);n&&jr(n[1],n)}(this._lContainer,t),Ge(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Lr(this._lContainer,t);return n&&null!=Ge(this._lContainer[8],t)?new ti(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return ri(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Tn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=vn(this._hostTNode,this._hostView),t=on(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=rn(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return tn(e)&&null!=n?new Tn(n,t):new Tn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(e));var o=r[n.index];if(ot(o))i=o;else{var a;if(4===n.type)a=pt(o);else if(a=r[11].createComment(""),lt(r)){var s=r[11],u=vt(n,r);Vr(s,Br(s,u),a,function(e,t){return ht(e)?e.nextSibling(t):t.nextSibling}(s,u))}else Wr(r[1],r,a,n);r[n.index]=i=Tr(o,r,a,n),Cr(r,i)}return new ei(i,n,r)}(e,t,At(),wt())},lo={},fo=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=tt(e);return new vo(t,this.ngModule)}}]),n}(ji);function ho(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var po=new Ce("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return sn}}),vo=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Kn).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,lo,i);return o!==lo||r===lo?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(Vi,dt),u=a.get(Ki,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(e,t,n){if(ht(e))return e.selectRootElement(t,n===Be.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):$n(l,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:sn,clean:Or,playerHandler:null,flags:0},v=ur(0,-1,null,1,0,null,null,null,null,null),y=Xn(null,v,p,h,null,null,s,c,u,a);Ft(y,null);try{var g=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=er(a,null,0,3,null,null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(ki(s,u,!0),null!==e&&(Jt(i,e,u),null!==s.classes&&Jr(i,e,s.classes),null!==s.styles&&Qr(i,e,s.styles)));var c=r.createRenderer(e,t),l=Xn(n,sr(t),null,t.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(yn(hn(s,n),a,t.type),yr(a,s),mr(s,n.length,1)),Cr(n,l),n[20]=l}(f,this.componentDef,y,s,c);if(f)if(n)Jt(c,f,["ng-version",Bi.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Hn(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,b=m.classes;_&&Jt(c,f,_),b&&b.length>0&&Jr(c,f,b.join(" "))}if(o=yt(v,0),void 0!==t)for(var k=o.projection=[],S=0;S<this.ngContentSelectors.length;S++){var T=t[S];k.push(null!=T?Array.from(T):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=At();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),vr(e,r,1),_r(e,t,n));var i=bn(t,e,t.length-1,r);Rn(i,t);var o=vt(r,t);return o&&Rn(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=At();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Kt(s.index-20);var u=n[1];hr(u,t),dr(u,n,t.hostVars),pr(t,a)}return a}(g,this.componentDef,y,p,[Mi]),tr(v,y,null)}finally{Vt()}var E=new yo(this.componentType,i,ri(Hi,o,y),y,o);return n&&!d||(v.node.child=o),E}},{key:"inputs",get:function(){return ho(this.componentDef.inputs)}},{key:"outputs",get:function(){return ho(this.componentDef.outputs)}}]),n}(Fi),yo=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s,u,c,l;return _classCallCheck2(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new ni(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=cr(0,null,2,-1,null,null)),c[6]=l,s.componentType=e,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new Tn(this._tNode,this._rootLView)}}]),n}(function(){return function e(){_classCallCheck2(this,e)}}()),go=void 0,mo=["en",[["a","p"],["AM","PM"],go],[["AM","PM"],go,go],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],go,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],go,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",go,"{1} 'at' {0}",go],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],_o={};function bo(e){return e in _o||(_o[e]=me.ng&&me.ng.common&&me.ng.common.locales&&me.ng.common.locales[e]),_o[e]}var ko=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function So(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var To=new Map,Eo=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck2(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new fo(_assertThisInitialized(i));var o=rt(e),a=e[Te]||null;return a&&So(a),i._bootstrapComponents=un(o.bootstrap),i._r3Injector=li(e,r,[{provide:He,useValue:_assertThisInitialized(i)},{provide:ji,useValue:i.componentFactoryResolver}],ue(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gi.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q.Default;return e===gi||e===He||e===Ae?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(He),wo=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).moduleType=e,null!==rt(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(ue(t)," vs ").concat(ue(t.name)))})(n,To.get(n),t),To.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new Eo(this.moduleType,e)}}]),n}(function(){return function e(){_classCallCheck2(this,e)}}()),Co=function(e){_inherits2(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck2(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf2(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,o=function(e){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=_get(_getPrototypeOf2(n.prototype),"subscribe",this).call(this,i,o,a);return e instanceof h&&e.add(s),s}}]),n}(C),Ao=new Ce("Application Initializer"),Io=function(){var e=function(){function e(t){var n=this;_classCallCheck2(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();xi(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Me(Ao,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e}(),No=new Ce("AppId"),Oo={provide:No,useFactory:function(){return"".concat(Ro()).concat(Ro()).concat(Ro())},deps:[]};function Ro(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Do=new Ce("Platform Initializer"),xo=new Ce("Platform ID"),Po=new Ce("appBootstrapListener"),Mo=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e}(),Fo=new Ce("LocaleId"),Lo=new Ce("DefaultCurrencyCode"),jo=function e(t,n){_classCallCheck2(this,e),this.ngModuleFactory=t,this.componentFactories=n},Ho=function(e){return new wo(e)},Uo=Ho,Vo=function(e){return Promise.resolve(Ho(e))},Go=function(e){var t=Ho(e),n=un(rt(e).declarations).reduce((function(e,t){var n=tt(t);return n&&e.push(new vo(n)),e}),[]);return new jo(t,n)},Ko=Go,Bo=function(e){return Promise.resolve(Go(e))},Wo=function(){var e=function(){function e(){_classCallCheck2(this,e),this.compileModuleSync=Uo,this.compileModuleAsync=Vo,this.compileModuleAndAllComponentsSync=Ko,this.compileModuleAndAllComponentsAsync=Bo}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e}(),zo=new Ce("compilerOptions"),qo=Promise.resolve(0);function Yo(e){"undefined"==typeof Zone?qo.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Zo=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck2(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Co(!1),this.onMicrotaskEmpty=new Co(!1),this.onStable=new Co(!1),this.onError=new Co(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=me.requestAnimationFrame,t=me.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(me,(function(){e.lastRequestAnimationFrameId=-1,Xo(e),$o(e)})),Xo(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return ea(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),ta(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return ea(n),e.invoke(r,i,o,a,s)}finally{ta(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Xo(n),$o(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Jo,Qo,Qo);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Qo(){}var Jo={};function $o(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Xo(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function ea(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ta(e){e._nesting--,$o(e)}var na,ra=function(){function e(){_classCallCheck2(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Co,this.onMicrotaskEmpty=new Co,this.onStable=new Co,this.onError=new Co}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),ia=function(){var e=function(){function e(t){var n=this;_classCallCheck2(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Zo.assertNotInAngularZone(),Yo((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Yo((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Me(Zo))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e}(),oa=function(){var e=function(){function e(){_classCallCheck2(this,e),this._applications=new Map,aa.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return aa.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e}(),aa=new(function(){function e(){_classCallCheck2(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),sa=function(e,t,n){var r=e.get(zo,[]).concat(t),i=new wo(n);if(0===mi.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(e){return e.providers})),a=[],o.forEach((function(e){return e&&a.push.apply(a,_toConsumableArray(e))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var e=me.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),c=gi.create({providers:s}).get(u.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(c.get(e))}(e);n.set(e,t=r.then(bi))}return t}return mi.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){_i.delete(e)}(n)}));t.push(u)})),mi=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},ua=new Ce("AllowMultipleToken");function ca(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new Ce(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=la();if(!o||o.injector.get(ua,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:ii,useValue:"platform"});!function(e){if(na&&!na.destroyed&&!na.injector.get(ua,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");na=e.get(fa);var t=e.get(Do,null);t&&t.forEach((function(e){return e()}))}(gi.create({providers:a,name:r}))}return function(e){var t=la();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function la(){return na&&!na.destroyed?na:null}var fa=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new ra:("zone.js"===n?void 0:n)||new Zo({enableLongStackTrace:On(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Zo,useValue:o}];return o.run((function(){var t=gi.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(An,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return va(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(Io)).runInitializers(),a.donePromise.then((function(){return So(n.injector.get(Fo,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return xi(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=ha({},n);return sa(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(pa);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(ue(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Me(gi))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e}();function ha(e,t){return Array.isArray(t)?t.reduce(ha,e):Object.assign(Object.assign({},e),t)}var da,pa=((da=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck2(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=On(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var u=new b((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),c=new b((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){Zo.assertNotInAngularZone(),Yo((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Zo.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=Number.POSITIVE_INFINITY,o=null,a=t[t.length-1];return(r=a)&&"function"==typeof r.schedule?(o=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof a&&(i=t.pop()),null===o&&1===t.length&&t[0]instanceof b?t[0]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof n?function(i){return i.pipe(e((function(e,r){return(i=t(e,r),i instanceof b?i:new b(R(i))).pipe(function(e,t){return function(t){return t.lift(new x(e,void 0))}}((function(t,i){return n(e,t,r,i)})));var i}),r))}:("number"==typeof n&&(r=n),function(e){return e.lift(new M(t,r))})}(m,e)}(i)(function(e,t){return t?function(e,t){return new b((function(n){var r=new h,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}(e,t):new b(N(e))}(t,o))}(u,c.pipe((function(e){return L()((t=K,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,V);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Fi?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(He),o=n.create(gi.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(ia,null);return a&&o.injector.get(oa).registerApplication(o.location.nativeElement,a),this._loadComponent(o),On()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;va(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Po,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),va(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||da)(Me(Zo),Me(Mo),Me(gi),Me(An),Me(ji),Me(Io))},da.\u0275prov=$({token:da,factory:da.\u0275fac}),da);function va(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var ya=ca(null,"core",[{provide:xo,useValue:"unknown"},{provide:fa,deps:[gi]},{provide:oa,deps:[]},{provide:Mo,deps:[]}]),ga=[{provide:pa,useClass:pa,deps:[Zo,Mo,gi,An,ji,Io]},{provide:po,deps:[Zo],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Io,useClass:Io,deps:[[new q,Ao]]},{provide:Wo,useClass:Wo,deps:[]},Oo,{provide:to,useFactory:function(){return io},deps:[]},{provide:no,useFactory:function(){return oo},deps:[]},{provide:Fo,useFactory:function(e){return So(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new z(Fo),new q,new Z]]},{provide:Lo,useValue:"USD"}],ma=function(){var e=function e(t){_classCallCheck2(this,e)};return e.\u0275mod=$e({type:e}),e.\u0275inj=X({factory:function(t){return new(t||e)(Me(pa))},providers:ga}),e}(),_a=null;function ba(){return _a}var ka,Sa,Ta=new Ce("DocumentToken"),Ea=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),wa=function e(){_classCallCheck2(this,e)},Ca=((Sa=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=bo(t);if(n)return n;var r=t.split("-")[0];if(n=bo(r))return n;if("en"===r)return mo;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[ko.PluralCase]}(t||this.locale)(e)){case Ea.Zero:return"zero";case Ea.One:return"one";case Ea.Two:return"two";case Ea.Few:return"few";case Ea.Many:return"many";default:return"other"}}}]),n}(wa)).\u0275fac=function(e){return new(e||Sa)(Me(Fo))},Sa.\u0275prov=$({token:Sa,factory:Sa.\u0275fac}),Sa),Aa=((ka=function(){function e(t,n){_classCallCheck2(this,e),this._viewContainer=t,this._context=new Ia,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Na("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Na("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||ka)(Ii(uo),Ii(ao))},ka.\u0275dir=et({type:ka,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),ka),Ia=function e(){_classCallCheck2(this,e),this.$implicit=null,this.ngIf=null};function Na(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(ue(t),"'."))}var Oa,Ra,Da,xa,Pa,Ma=((Oa=function e(){_classCallCheck2(this,e)}).\u0275mod=$e({type:Oa}),Oa.\u0275inj=X({factory:function(e){return new(e||Oa)},providers:[{provide:wa,useClass:Ca}]}),Oa),Fa=function(e){_inherits2(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=La||(La=document.querySelector("base"))?La.getAttribute("href"):null;return null==n?null:(t=n,Ra||(Ra=document.createElement("a")),Ra.setAttribute("href",t),"/"===Ra.pathname.charAt(0)?Ra.pathname:"/"+Ra.pathname)}},{key:"resetBaseElement",value:function(){La=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,_a||(_a=e)}}]),n}(function(e){_inherits2(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck2(this,e)}}())),La=null,ja=new Ce("TRANSITION_ID"),Ha=[{provide:Ao,useFactory:function(e,t,n){return function(){n.get(Io).donePromise.then((function(){var n=ba();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[ja,Ta,gi],multi:!0}],Ua=function(){function e(){_classCallCheck2(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){me.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},me.getAllAngularTestabilities=function(){return e.getAllTestabilities()},me.getAllAngularRootElements=function(){return e.getAllRootElements()},me.frameworkStabilizers||(me.frameworkStabilizers=[]),me.frameworkStabilizers.push((function(e){var t=me.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?ba().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,aa=t}}]),e}(),Va=new Ce("EventManagerPlugins"),Ga=((Da=function(){function e(t,n){var r=this;_classCallCheck2(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||Da)(Me(Va),Me(Zo))},Da.\u0275prov=$({token:Da,factory:Da.\u0275fac}),Da),Ka=function(){function e(t){_classCallCheck2(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=ba().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Ba=((Pa=function(){function e(){_classCallCheck2(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||Pa)},Pa.\u0275prov=$({token:Pa,factory:Pa.\u0275fac}),Pa),Wa=((xa=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return ba().remove(e)}))}}]),n}(Ba)).\u0275fac=function(e){return new(e||xa)(Me(Ta))},xa.\u0275prov=$({token:xa,factory:xa.\u0275fac}),xa),za={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qa=/%COMP%/g;function Ya(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Ya(e,i,n):(i=i.replace(qa,e),n.push(i))}return n}function Za(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Qa,Ja,$a,Xa,es=((Qa=function(){function e(t,n,r){_classCallCheck2(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ts(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Be.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new ns(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case Be.Native:case Be.ShadowDom:return new rs(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Ya(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Qa)(Me(Ga),Me(Wa),Me(No))},Qa.\u0275prov=$({token:Qa,factory:Qa.\u0275fac}),Qa),ts=function(){function e(t){_classCallCheck2(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(za[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=za[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=za[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&Gi.DashCase?e.style.setProperty(t,n,r&Gi.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&Gi.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Za(n)):this.eventManager.addEventListener(e,t,Za(n))}}]),e}(),ns=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck2(this,n),(a=t.call(this,e)).component=i;var s,u=Ya(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(qa,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(qa,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf2(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf2(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf2(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(ts),rs=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck2(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===Be.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Ya(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf2(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf2(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf2(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf2(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(ts),is=((Ja=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Ka)).\u0275fac=function(e){return new(e||Ja)(Me(Ta))},Ja.\u0275prov=$({token:Ja,factory:Ja.\u0275fac}),Ja),os=["alt","control","meta","shift"],as={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ss={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},us={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},cs=(($a=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return ba().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(os.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&ss.hasOwnProperty(t)&&(t=ss[t]))}return as[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),os.forEach((function(r){r!=n&&(0,us[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Ka)).\u0275fac=function(e){return new(e||$a)(Me(Ta))},$a.\u0275prov=$({token:$a,factory:$a.\u0275fac}),$a),ls=ca(ya,"browser",[{provide:xo,useValue:"browser"},{provide:Do,useValue:function(){Fa.makeCurrent(),Ua.init()},multi:!0},{provide:Ta,useFactory:function(){return function(e){ft=e}(document),document},deps:[]}]),fs=[[],{provide:ii,useValue:"root"},{provide:An,useFactory:function(){return new An},deps:[]},{provide:Va,useClass:is,multi:!0,deps:[Ta,Zo,xo]},{provide:Va,useClass:cs,multi:!0,deps:[Ta]},[],{provide:es,useClass:es,deps:[Ga,Wa,No]},{provide:Vi,useExisting:es},{provide:Ba,useExisting:Wa},{provide:Wa,useClass:Wa,deps:[Ta]},{provide:ia,useClass:ia,deps:[Zo]},{provide:Ga,useClass:Ga,deps:[Va,Zo]},[]],hs=((Xa=function(){function e(t){if(_classCallCheck2(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:No,useValue:t.appId},{provide:ja,useExisting:No},Ha]}}}]),e}()).\u0275mod=$e({type:Xa}),Xa.\u0275inj=X({factory:function(e){return new(e||Xa)(Me(Xa,12))},providers:fs,imports:[Ma,ma]}),Xa);"undefined"!=typeof window&&window;var ds=n("MgzW"),ps=n.n(ds),vs=function(e){return null!=e&&"function"==typeof e.then};function ys(e){return(ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gs(e,t){return!(!ks(e)||!ks(t))&&e.slice(0,t.length)===t}function ms(e,t,n){var r=n;try{var i=t.split("."),o=e;i.forEach((function(e){return o=o[e]})),void 0!==o&&(r=o)}catch(a){}return r}function _s(e,t){if(Array.isArray(e)&&"function"==typeof t)for(var n=0;n<e.length;n++)if(!0===t(e[n],n,e))return n;return-1}function bs(e,t){var n;if(ws(e))for(var r=Object.keys(e),i=0;i<r.length&&!n;i++){var o=r[i];t(e[o],o,e)&&(n=e[o])}else if(Array.isArray(e))for(var a=0;a<e.length&&!n;a++)t(e[a],a,e)&&(n=e[a]);return n}function ks(e){return"string"==typeof e||e instanceof String}function Ss(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&(Number.isFinite?Number.isFinite(e):isFinite(e))}function Ts(e){return e instanceof Number&&(e=e.valueOf()),e!=e}var Es=-1;function ws(e){return e&&"object"===ys(e)&&e.constructor===Object}function Cs(e,t){var n=e;ws(t)&&Object.keys(t).forEach((function(e){var r=t[e];ws(r)&&(r=n[e]&&ws(n[e])?Cs({},n[e],r):Cs({},r)),void 0!==r&&(n[e]=r)}));for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(i&&i.length){var a=i.splice(0,1)[0];n=Cs.apply(void 0,[n,a].concat(i))}return n}function As(e){var t={};return e.filter((function(e){return!Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=!0)}))}function Is(e){if(null==e)return"";if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(e){return ks(e)?e:""}))+"";var t=e+"";return"0"===t&&1/e===Number.NEGATIVE_INFINITY?"-0":t}function Ns(e){if("number"==typeof e)return e;if(ws(e)&&"function"==typeof e.valueOf){var t=e.valueOf();e=ws(t)?t+"":t}return"string"!=typeof e?0===e?e:+e:+(e=e.replace(/^\s+|\s+$/g,""))}function Os(e,t){return Object.keys(e).forEach((function(n){return t(e[n],n,e)})),e}function Rs(e){return!0===e||!1===e}function Ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ps(e,t,n){return t&&xs(e.prototype,t),n&&xs(e,n),e}var Ms={DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",NONE:"NONE"},Fs=Ms.DEBUG,Ls=function(e){Fs=e},js={showLevel:!0,displayAllErrors:!1},Hs=function(){function e(t,n){Ds(this,e),this.category=t,this.options=ps()({},js,n)}return Ps(e,[{key:"debug",value:function(e){this._shouldLog(Ms.DEBUG)&&this._log(Ms.DEBUG,e)}},{key:"info",value:function(e){this._shouldLog(Ms.INFO)&&this._log(Ms.INFO,e)}},{key:"warn",value:function(e){this._shouldLog(Ms.WARN)&&this._log(Ms.WARN,e)}},{key:"error",value:function(e){(this.options.displayAllErrors||this._shouldLog(Ms.ERROR))&&this._log(Ms.ERROR,e)}},{key:"_log",value:function(e,t){var n=this._generateLogMessage(e,t);console.log(n)}},{key:"_generateLogMessage",value:function(e,t){var n="";return this.options.showLevel&&(n+="["+e+"]"+(e===Ms.INFO||e===Ms.WARN?" ":"")+" "),this.category&&(n+=this.category+" => "),n+t}},{key:"_shouldLog",value:function(e){var t=Fs,n=Object.keys(Ms).map((function(e){return Ms[e]}));return n.indexOf(e)>=n.indexOf(t)}}]),e}();function Us(){var e="__SPLITSOFTWARE__";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}var Vs=function(e){return!!bs(Ms,(function(t){return e===t}))},Gs={showLevel:!0,displayAllErrors:!1},Ks=!1;"undefined"!=typeof process&&void 0!==process.version&&process.version&&(Ks=!0);var Bs=String(Ks?process.env.SPLITIO_DEBUG:Us()?localStorage.getItem("splitio_debug"):""),Ws=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Hs(e,Cs(t,Gs))},zs=Ws("splitio-utils:logger"),qs={enable:function(){Ls(Ms.DEBUG)},setLogLevel:function(e){Vs(e)?Ls(e):zs.error("Invalid Log Level - No changes to the logs will be applied.")},disable:function(){Ls(Ms.NONE)},LogLevel:Ms};/^(enabled?|on)/i.test(Bs)?qs.enable(Ms.DEBUG):Vs(Bs)?qs.setLogLevel(Bs):qs.disable();var Ys=Ws,Zs=Ys("",{displayAllErrors:!0}),Qs={};function Js(e){Qs[e]&&Qs[e]--,0===Qs[e]&&delete Qs[e]}var $s=Ys(""),Xs=Ys(""),eu=/^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/;function tu(e,t){if(null==e)Xs.error("".concat(t,": you passed a null or undefined event_type, event_type must be a non-empty string."));else if(ks(e))if(0===e.length)Xs.error("".concat(t,": you passed an empty event_type, event_type must be a non-empty string."));else{if(eu.test(e))return e;Xs.error("".concat(t,': you passed "').concat(e,'", event_type must adhere to the regular expression /^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/g. This means an event_type must be alphanumeric, cannot be more than 80 characters long, and can only include a dash, underscore, period, or colon as separators of alphanumeric characters.'))}else Xs.error("".concat(t,": you passed an invalid event_type, event_type must be a non-empty string."));return!1}var nu=Ys("");function ru(e,t){return Ss(e)||null==e?e:(nu.error("".concat(t,": value must be a finite number.")),!1)}var iu=Ys("");function ou(e,t){if(null==e)return{properties:null,size:1024};if(!ws(e))return iu.error("".concat(t,": properties must be a plain object.")),{properties:!1,size:1024};var n=Object.keys(e),r=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=e[t[r]];return n}(e),i={properties:r,size:1024};n.length>300&&iu.warn("".concat(t,": Event has more than 300 properties. Some of them will be trimmed when processed."));for(var o=0;o<n.length;o++){i.size+=2*n[o].length;var a=r[n[o]],s=ks(a),u=Ss(a),c=Rs(a),l=null===a;if(s||u||c||l||(r[n[o]]=null,a=null,l=!0,iu.warn("".concat(t,": Property ").concat(n[o]," is of invalid type. Setting value to null."))),l?i.size+=0:u?i.size+=8:c?i.size+=4:s&&(i.size+=2*a.length),i.size>32768){iu.error("".concat(t,": The maximum size allowed for the properties is 32768 bytes, which was exceeded. Event not queued.")),i.properties=!1;break}}return i}var au=Ys("");function su(e,t,n){if(null==e)return au.error("".concat(t,": you passed a null or undefined ").concat(n,", ").concat(n," must be a non-empty string.")),!1;if(Ss(e))return au.warn("".concat(t,": ").concat(n,' "').concat(e,'" is not of type string, converting.')),Is(e);if(ks(e)){if((e=e.trim()).length>0&&e.length<=250)return e;0===e.length?au.error("".concat(t,": you passed an empty string, ").concat(n," must be a non-empty string.")):e.length>250&&au.error("".concat(t,": ").concat(n," too long, ").concat(n," must be 250 characters or less."))}else au.error("".concat(t,": you passed an invalid ").concat(n," type, ").concat(n," must be a non-empty string."));return!1}function uu(e,t){if(ws(e)){var n=su(e.matchingKey,t,"matchingKey"),r=su(e.bucketingKey,t,"bucketingKey");return n&&r?{matchingKey:n,bucketingKey:r}:(au.error("".concat(t,": Key must be an object with bucketingKey and matchingKey with valid string properties.")),!1)}return su(e,t,"key")}var cu=Ys(""),lu=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/;function fu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"split name";if(null==e)cu.error("".concat(t,": you passed a null or undefined ").concat(n,", ").concat(n," must be a non-empty string."));else if(ks(e)){if(lu.test(e)&&(cu.warn("".concat(t,": ").concat(n,' "').concat(e,'" has extra whitespace, trimming.')),e=e.trim()),e.length>0)return e;cu.error("".concat(t,": you passed an empty ").concat(n,", ").concat(n," must be a non-empty string."))}else cu.error("".concat(t,": you passed an invalid ").concat(n,", ").concat(n," must be a non-empty string."));return!1}function hu(e,t,n,r){return!e.get(e.constants.READY,!0)||"definition not found"!==n&&null!=n||(cu.warn("".concat(r,': you passed "').concat(t,'" that does not exist in this environment, please double check what Splits exist in the web console.')),!1)}var du=Ys("");function pu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"split_names",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"split name";if(Array.isArray(e)&&e.length>0){var i=[];if(e.forEach((function(e){var n=fu(e,t,r);n&&i.push(n)})),i.length)return As(i)}return du.error("".concat(t,": ").concat(n," must be a non-empty array.")),!1}var vu="standalone",yu="producer",gu="consumer",mu="control",_u={treatment:mu,config:null},bu=[{type:"byName",maxLength:400,queryParam:"names="},{type:"byPrefix",maxLength:50,queryParam:"prefixes="}],ku=Ys(""),Su=/[A-Z]/;function Tu(e,t){if(null==e)ku.error("".concat(t,": you passed a null or undefined traffic_type_name, traffic_type_name must be a non-empty string."));else if(ks(e)){if(0!==e.length)return Su.test(e)&&(ku.warn("".concat(t,": traffic_type_name should be all lowercase - converting string to lowercase.")),e=e.toLowerCase()),e;ku.error("".concat(t,": you passed an empty traffic_type_name, traffic_type_name must be a non-empty string."))}else ku.error("".concat(t,": you passed an invalid traffic_type_name, traffic_type_name must be a non-empty string."));return!1}function Eu(e,t){ku.warn("".concat(e,": Traffic Type ").concat(t," does not have any corresponding Splits in this environment, make sure you're tracking your events to a valid traffic type defined in the Split console."))}function wu(e,t,n){var r=t.get(t.constants.READY,!0),i=t.get(t.constants.SETTINGS),o=t.get(t.constants.STORAGE).splits;if(!r||"localhost"===i.mode)return!0;var a=o.trafficTypeExists(e);return vs(a)?a.then((function(t){return t||Eu(n,e),t})):a||Eu(n,e),a}var Cu=Ys("",{displayAllErrors:!0});function Au(e){return!e.get(e.constants.DESTROYED,!0)||(Cu.error("Client has already been destroyed - no calls possible."),!1)}function Iu(e,t){return!(!e.get(e.constants.READY,!0)&&!e.get(e.constants.READY_FROM_CACHE,!0)&&(Cu.warn("".concat(t,": the SDK is not ready, results may be incorrect. Make sure to wait for SDK readiness before using this method.")),1))}var Nu=function(e){var t=e.conditions,n=bs(t,(function(e){return"ROLLOUT"===e.conditionType}));return n||(n=t[0]),n?n.partitions.map((function(e){return e.treatment})):[]},Ou=function(e){var t;try{t=JSON.parse(e)}catch(n){return null}return null==t?null:{name:t.name,trafficType:t.trafficTypeName||null,killed:t.killed,changeNumber:t.changeNumber||0,treatments:Nu(t),configs:t.configurations||{}}},Ru=function(e){var t=[];return e.forEach((function(e){var n=Ou(e);null!=n&&t.push(n)})),t},Du=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;t<e.length;t++)for(var n=e[t].matcherGroup.matchers,r=0;r<n.length;r++)if("IN_SEGMENT"===n[r].matcherType)return!0;return!1};function xu(e,t,n){var r=this,i=this.getSplit(e);return(vs(i)?i:Promise.resolve(i)).then((function(i){if(i){var o=JSON.parse(i);if(!o.changeNumber||o.changeNumber<n){o.killed=!0,o.defaultTreatment=t,o.changeNumber=n;var a=JSON.stringify(o);return r.addSplit(e,a)}}return!1}))}var Pu=function(){function e(){Ds(this,e),this.flush()}return Ps(e,[{key:"addSplit",value:function(e,t){var n=this.getSplit(e);if(n){var r=JSON.parse(n);if(r.trafficTypeName){var i=r.trafficTypeName;this.ttCache[i]--,this.ttCache[i]||delete this.ttCache[i]}Du(r.conditions)&&this.splitsWithSegmentsCount--}var o=JSON.parse(t);if(o){this.splitCache[e]=t;var a=o.trafficTypeName;return a&&(this.ttCache[a]||(this.ttCache[a]=0),this.ttCache[a]++),Du(o.conditions)&&this.splitsWithSegmentsCount++,!0}return!1}},{key:"addSplits",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.addSplit(e[0],e[1]))})),n}},{key:"removeSplit",value:function(e){var t=this.getSplit(e);if(t){delete this.splitCache[e];var n=JSON.parse(t),r=n.trafficTypeName;return r&&(this.ttCache[r]--,this.ttCache[r]||delete this.ttCache[r]),Du(n.conditions)&&this.splitsWithSegmentsCount--,1}return 0}},{key:"removeSplits",value:function(e){var t=this;return e.forEach((function(e){return t.removeSplit(e)})),e.length}},{key:"getSplit",value:function(e){return this.splitCache[e]}},{key:"setChangeNumber",value:function(e){return this.changeNumber=e,!0}},{key:"getChangeNumber",value:function(){return this.changeNumber}},{key:"getAll",value:function(){var e=this;return this.getKeys().map((function(t){return e.splitCache[t]}))}},{key:"getKeys",value:function(){return Object.keys(this.splitCache)}},{key:"trafficTypeExists",value:function(e){return Ss(this.ttCache[e])&&this.ttCache[e]>0}},{key:"usesSegments",value:function(){return-1===this.getChangeNumber()||this.splitsWithSegmentsCount>0}},{key:"flush",value:function(){this.splitCache={},this.ttCache={},this.changeNumber=-1,this.splitsWithSegmentsCount=0}},{key:"fetchMany",value:function(e){var t=this,n={};return e.forEach((function(e){n[e]=t.splitCache[e]||null})),n}},{key:"checkCache",value:function(){return!1}}]),e}();Pu.prototype.killLocally=xu;var Mu=Pu,Fu=Ys("splitio-storage:localstorage"),Lu=function(){function e(t,n,r){Ds(this,e),this.keys=t,this.splitFiltersValidation=r,this.__checkExpiration(n),this.__checkFilterQuery()}return Ps(e,[{key:"decrementCount",value:function(e){var t=Ns(localStorage.getItem(e))-1;t>0?localStorage.setItem(e,t):localStorage.removeItem(e)}},{key:"decrementCounts",value:function(e){try{if(e){if(e.trafficTypeName){var t=this.keys.buildTrafficTypeKey(e.trafficTypeName);this.decrementCount(t)}if(Du(e.conditions)){var n=this.keys.buildSplitsWithSegmentCountKey();this.decrementCount(n)}}}catch(r){Fu.error(r)}}},{key:"incrementCounts",value:function(e){try{if(e){if(e.trafficTypeName){var t=this.keys.buildTrafficTypeKey(e.trafficTypeName);localStorage.setItem(t,Ns(localStorage.getItem(t))+1)}if(Du(e.conditions)){var n=this.keys.buildSplitsWithSegmentCountKey();localStorage.setItem(n,Ns(localStorage.getItem(n))+1)}}}catch(r){Fu.error(r)}}},{key:"addSplit",value:function(e,t){try{var n=this.keys.buildSplitKey(e),r=localStorage.getItem(n),i=r?JSON.parse(r):null;this.decrementCounts(i),localStorage.setItem(n,t);var o=t?JSON.parse(t):null;return this.incrementCounts(o),!0}catch(a){return Fu.error(a),!1}}},{key:"addSplits",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.addSplit(e[0],e[1]))})),n}},{key:"removeSplit",value:function(e){try{var t=this.getSplit(e);localStorage.removeItem(this.keys.buildSplitKey(e));var n=JSON.parse(t);return this.decrementCounts(n),1}catch(r){return Fu.error(r),0}}},{key:"removeSplits",value:function(e){for(var t=0,n=e.length,r=0;t<n;t++)r+=this.removeSplit(e[t]);return r}},{key:"getSplit",value:function(e){return localStorage.getItem(this.keys.buildSplitKey(e))}},{key:"setChangeNumber",value:function(e){if(this.cacheReadyButNeedsToFlush&&(this.flush(),this.cacheReadyButNeedsToFlush=!1),this.updateNewFilter){Fu.info("Split filter query was modified. Updating cache.");var t=this.keys.buildSplitsFilterQueryKey(),n=this.splitFiltersValidation.queryString;try{n?localStorage.setItem(t,n):localStorage.removeItem(t)}catch(r){Fu.error(r)}this.updateNewFilter=!1}try{return localStorage.setItem(this.keys.buildSplitsTillKey(),e+""),localStorage.setItem(this.keys.buildLastUpdatedKey(),Date.now()+""),this.hasSync=!0,!0}catch(r){return Fu.error(r),!1}}},{key:"getChangeNumber",value:function(){var e=localStorage.getItem(this.keys.buildSplitsTillKey());return null!==e?Ts(e=parseInt(e,10))?-1:e:-1}},{key:"getAll",value:function(){for(var e=localStorage.length,t=[],n=0;n<e;){var r=localStorage.key(n),i=r&&localStorage.getItem(r);null!=r&&this.keys.isSplitKey(r)&&i&&t.push(i),n++}return t}},{key:"getKeys",value:function(){for(var e=localStorage.length,t=[],n=0;n<e;){var r=localStorage.key(n);null!=r&&this.keys.isSplitKey(r)&&t.push(this.keys.extractKey(r)),n++}return t}},{key:"trafficTypeExists",value:function(e){var t=Ns(localStorage.getItem(this.keys.buildTrafficTypeKey(e)));return Ss(t)&&t>0}},{key:"usesSegments",value:function(){if(!this.hasSync)return!0;var e=localStorage.getItem(this.keys.buildSplitsWithSegmentCountKey()),t=null===e?0:Ns(e);return!Ss(t)||t>0}},{key:"flush",value:function(){Fu.info("Flushing Splits data from localStorage");for(var e=localStorage.length,t=[],n=0;n<e;n++){var r=localStorage.key(n);null!=r&&this.keys.isSplitCacheKey(r)&&t.push(r)}t.forEach((function(e){localStorage.removeItem(e)})),this.hasSync=!1}},{key:"fetchMany",value:function(e){var t=this,n={};return e.forEach((function(e){n[e]=localStorage.getItem(t.keys.buildSplitKey(e))})),n}},{key:"checkCache",value:function(){return this.getChangeNumber()>-1||this.cacheReadyButNeedsToFlush}},{key:"__checkExpiration",value:function(e){var t=localStorage.getItem(this.keys.buildLastUpdatedKey());null!==t&&!Ts(t=parseInt(t,10))&&t<e&&this.flush()}},{key:"__checkFilterQuery",value:function(){var e=this,t=this.splitFiltersValidation,n=t.queryString,r=t.groupedFilters,i=this.keys.buildSplitsFilterQueryKey();if(localStorage.getItem(i)!==n)try{this.updateNewFilter=!0,this.checkCache()&&(localStorage.setItem(this.keys.buildSplitsTillKey(),"-1"),this.getKeys().forEach((function(t){n&&(r.byName.indexOf(t)>-1||r.byPrefix.some((function(e){return t.startsWith(e+"__")})))?e.cacheReadyButNeedsToFlush=!0:e.removeSplit(t)})))}catch(o){Fu.error(o)}}}]),e}();Lu.prototype.killLocally=xu;var ju=Lu,Hu=function(){function e(t){Ds(this,e),this.keys=t,this.flush()}return Ps(e,[{key:"flush",value:function(){this.segmentCache={}}},{key:"addToSegment",value:function(e){var t=this.keys.buildSegmentNameKey(e);return this.segmentCache[t]=!0,!0}},{key:"removeFromSegment",value:function(e){var t=this.keys.buildSegmentNameKey(e);return delete this.segmentCache[t],!0}},{key:"resetSegments",value:function(e){var t,n=this,r=!1,i=Object.keys(this.segmentCache);if(0===e.length&&i.length===e.length)return r;if(i.length!==e.length)r=!0,this.segmentCache={},e.forEach((function(e){n.addToSegment(e)}));else{for(t=0;t<e.length&&this.isInSegment(e[t]);t++);t<e.length&&(r=!0,this.segmentCache={},e.forEach((function(e){n.addToSegment(e)})))}return r}},{key:"isInSegment",value:function(e){var t=this.keys.buildSegmentNameKey(e);return!0===this.segmentCache[t]}},{key:"setChangeNumber",value:function(){return!0}},{key:"getChangeNumber",value:function(){return-1}},{key:"registerSegment",value:function(){return!1}},{key:"registerSegments",value:function(){return!1}},{key:"getRegisteredSegments",value:function(){return[]}}]),e}(),Uu=Ys("splitio-storage:localstorage"),Vu=function(){function e(t){Ds(this,e),this.keys=t}return Ps(e,[{key:"addToSegment",value:function(e){var t=this.keys.buildSegmentNameKey(e);try{return localStorage.setItem(t,"1"),!0}catch(n){return Uu.error(n),!1}}},{key:"removeFromSegment",value:function(e){var t=this.keys.buildSegmentNameKey(e);try{return localStorage.removeItem(t),!0}catch(n){return Uu.error(n),!1}}},{key:"resetSegments",value:function(e){var t,n=this,r=!1,i=Object.keys(localStorage).reduce((function(e,t){var r=n.keys.extractSegmentName(t);return r&&e.push(r),e}),[]);if(0===e.length&&i.length===e.length)return r;if(i.length!==e.length)r=!0,i.forEach((function(e){return n.removeFromSegment(e)})),e.forEach((function(e){return n.addToSegment(e)}));else{for(t=0;t<e.length&&-1!==i.indexOf(e[t]);t++);t<e.length&&(r=!0,i.forEach((function(e){return n.removeFromSegment(e)})),e.forEach((function(e){return n.addToSegment(e)})))}return r}},{key:"isInSegment",value:function(e){return"1"===localStorage.getItem(this.keys.buildSegmentNameKey(e))}},{key:"setChangeNumber",value:function(){return!0}},{key:"getChangeNumber",value:function(){return-1}},{key:"registerSegment",value:function(){return!1}},{key:"registerSegments",value:function(){return!1}},{key:"getRegisteredSegments",value:function(){return[]}},{key:"flush",value:function(){Uu.info("Flushing MySegments data from localStorage"),this.resetSegments([])}}]),e}();function Gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ku=function(){function e(){Ds(this,e),this.queue=[]}return Ps(e,[{key:"state",value:function(){return this.queue}},{key:"track",value:function(e){var t,n;return(t=this.queue).push.apply(t,function(e){if(Array.isArray(e))return Gu(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Gu(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gu(e,void 0):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this}},{key:"clear",value:function(){return this.queue.length=0,this}},{key:"toJSON",value:function(){return this.queue}},{key:"isEmpty",value:function(){return 0===this.queue.length}}]),e}(),Bu=(function(e,t){for(var n=0,r=e.length-1,i=Math.floor((r+n)/2),o=n,a=r;e[i]!==t&&n<r;)t<e[i]?r=i-1:t>e[i]&&(n=i+1),i=Math.floor((r+n)/2);return i<o?i=o:i>a&&(i=a),t<e[i]&&i>o?i-1:i}).bind(null,[1,1.5,2.25,3.38,5.06,7.59,11.39,17.09,25.63,38.44,57.67,86.5,129.75,194.62,291.93,437.89,656.84,985.26,1477.89,2216.84,3325.26,4987.89,77481.83]),Wu=function(){function e(){Ds(this,e),this.clear()}return Ps(e,[{key:"clear",value:function(){return this.counters={},this}},{key:"state",value:function(){return this.counters}},{key:"track",value:function(e,t){return void 0===this.counters[e]&&(this.counters[e]=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.counters[e][Bu(t)]++,this}},{key:"isEmpty",value:function(){return 0===Object.keys(this.counters).length}},{key:"toJSON",value:function(){return this.counters}}]),e}(),zu=function(){function e(){Ds(this,e),this.clear()}return Ps(e,[{key:"clear",value:function(){return this.counters={},this}},{key:"state",value:function(){return this.counters}},{key:"track",value:function(e){return void 0===this.counters[e]?this.counters[e]=1:this.counters[e]++,this.counters[e]}},{key:"isEmpty",value:function(){return 0===Object.keys(this.counters).length}},{key:"toJSON",value:function(){return this.counters}}]),e}(),qu=function(){function e(t){var n=this;Ds(this,e);var r=t.get(t.constants.SETTINGS),i=t.get(t.constants.EVENTS);this.onFullQueue=!1,this.maxQueue=r.scheduler.eventsQueueSize,this.queue=[],this.queueByteSize=0,vs(i)?i.then((function(e){n.onFullQueue=e.flushAndResetTimer,n._checkForFlush()})):"function"==typeof i.flushAndResetTimer&&(this.onFullQueue=i.flushAndResetTimer)}return Ps(e,[{key:"state",value:function(){return this.queue}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.queueByteSize+=t,this.queue.push(e),this._checkForFlush(),!0}},{key:"clear",value:function(){return this.queue=[],this.queueByteSize=0,this}},{key:"toJSON",value:function(){return this.queue}},{key:"isEmpty",value:function(){return 0===this.queue.length}},{key:"_checkForFlush",value:function(){(this.queueByteSize>5242880||this.maxQueue>0&&this.queue.length>=this.maxQueue)&&this.onFullQueue&&this.onFullQueue()}}]),e}(),Yu=/[^.]+$/,Zu=/count\.([^/]+)$/,Qu=/latency\.([^/]+)\.bucket\.([0-9]+)$/,Ju=function(){function e(t){Ds(this,e),this.settings=t}return Ps(e,[{key:"buildSplitKey",value:function(e){return"".concat(this.settings.storage.prefix,".split.").concat(e)}},{key:"buildTrafficTypeKey",value:function(e){return"".concat(this.settings.storage.prefix,".trafficType.").concat(e)}},{key:"buildSplitsTillKey",value:function(){return"".concat(this.settings.storage.prefix,".splits.till")}},{key:"buildSplitsReady",value:function(){return"".concat(this.settings.storage.prefix,".splits.ready")}},{key:"isSplitKey",value:function(e){return gs(e,"".concat(this.settings.storage.prefix,".split."))}},{key:"buildSegmentNameKey",value:function(e){return"".concat(this.settings.storage.prefix,".segment.").concat(e)}},{key:"buildSegmentTillKey",value:function(e){return"".concat(this.settings.storage.prefix,".segment.").concat(e,".till")}},{key:"buildRegisteredSegmentsKey",value:function(){return"".concat(this.settings.storage.prefix,".segments.registered")}},{key:"buildSegmentsReady",value:function(){return"".concat(this.settings.storage.prefix,".segments.ready")}},{key:"buildVersionablePrefix",value:function(){return"".concat(this.settings.storage.prefix,"/").concat(this.settings.version,"/").concat(this.settings.runtime.ip)}},{key:"buildImpressionsKey",value:function(){return"".concat(this.settings.storage.prefix,".impressions")}},{key:"buildEventsKey",value:function(){return"".concat(this.settings.storage.prefix,".events")}},{key:"buildLatencyKeyPrefix",value:function(){return"".concat(this.buildVersionablePrefix(),"/latency")}},{key:"buildLatencyKey",value:function(e,t){return"".concat(this.buildLatencyKeyPrefix(),".").concat(e,".bucket.").concat(t)}},{key:"buildCountKey",value:function(e){return"".concat(this.buildVersionablePrefix(),"/count.").concat(e)}},{key:"buildGaugeKey",value:function(e){return"".concat(this.buildVersionablePrefix(),"/gauge.").concat(e)}},{key:"searchPatternForCountKeys",value:function(){return"".concat(this.buildVersionablePrefix(),"/count.*")}},{key:"searchPatternForSplitKeys",value:function(){return"".concat(this.settings.storage.prefix,".split.*")}},{key:"searchPatternForLatency",value:function(){return"".concat(this.buildLatencyKeyPrefix(),".*")}},{key:"extractKey",value:function(e){var t=e.match(Yu);if(t&&t.length)return t[0];throw"Invalid latency key provided"}},{key:"extractCounterName",value:function(e){var t=e.match(Zu);if(t&&t.length)return t[1];throw"Invalid counter key provided"}},{key:"extractLatencyMetricNameAndBucket",value:function(e){var t=e.match(Qu);if(t&&t.length>2)return{metricName:t[1],bucketNumber:t[2]};throw"Invalid counter key provided"}}]),e}();function $u(e,t){return($u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$u(e,t)}function ec(e,t){return!t||"object"!==ys(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tc(e){return(tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return ws(n)?n[e]:t?void 0:n}}var rc=nc("matchingKey"),ic=nc("bucketingKey",!0),oc=function(e){Xu(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=tc(t);if(n){var i=tc(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return ec(this,e)});function i(e){var t;return Ds(this,i),(t=r.call(this,e)).regexSplitCacheKey=new RegExp("^".concat(t.settings.storage.prefix,"\\.(splits?|trafficType)\\.")),t}return Ps(i,[{key:"buildSegmentNameKey",value:function(e){return"".concat(rc(this.settings.core.key),".").concat(this.settings.storage.prefix,".segment.").concat(e)}},{key:"extractSegmentName",value:function(e){var t="".concat(rc(this.settings.core.key),".").concat(this.settings.storage.prefix,".segment.");if(gs(e,t))return e.substr(t.length)}},{key:"buildSplitsWithSegmentCountKey",value:function(){return"".concat(this.settings.storage.prefix,".splits.usingSegments")}},{key:"buildLastUpdatedKey",value:function(){return"".concat(this.settings.storage.prefix,".splits.lastUpdated")}},{key:"isSplitCacheKey",value:function(e){return this.regexSplitCacheKey.test(e)}},{key:"buildSplitsFilterQueryKey",value:function(){return"".concat(this.settings.storage.prefix,".splits.filterQuery")}}]),i}(Ju),ac=n("aqdR"),sc=n.n(ac),uc={startup:{requestTimeoutBeforeReady:5,retriesOnFailureBeforeReady:1,readyTimeout:10,eventsFirstPushWindow:10}},cc=Ys("splitio-settings"),lc=Ys("splitio-settings"),fc=Ys(""),hc=n("CfmU"),dc=/^\/(testImpressions|metrics|events)/,pc=/^\/auth/,vc=/^\/(sse|event-stream)/,yc={mode:vu,core:{authorizationKey:void 0,key:void 0,trafficType:void 0,labelsEnabled:!0,IPAddressesEnabled:void 0},scheduler:{featuresRefreshRate:30,segmentsRefreshRate:60,metricsRefreshRate:120,impressionsRefreshRate:60,offlineRefreshRate:15,eventsPushRate:60,eventsQueueSize:500,authRetryBackoffBase:1,streamingReconnectBackoffBase:1},urls:{sdk:"https://sdk.split.io/api",events:"https://events.split.io/api",auth:"https://auth.split.io/api",streaming:"https://streaming.split.io"},storage:{type:"MEMORY"},debug:void 0,impressionListener:void 0,version:"".concat("javascript","-").concat(hc.a),integrations:void 0,streamingEnabled:!0,sync:{splitFilters:void 0}};function gc(e){return Math.round(1e3*e)}var mc={url:function(e){return dc.test(e)?"".concat(this.urls.events).concat(e):pc.test(e)?"".concat(this.urls.auth).concat(e):vc.test(e)?"".concat(this.urls.streaming).concat(e):"".concat(this.urls.sdk).concat(e)},overrideKeyAndTT:function(e,t){return ps()(Object.create(mc),this,{core:ps()({},this.core,{key:e,trafficType:t})})}},_c={COLLECTORS:"metrics_collectors",DESTROYED:"is_destroyed",EVENTS:"events_publisher",HAS_TIMEDOUT:"has_timedout",INTEGRATIONS_MANAGER:"integrations_manager",MY_SEGMENTS_CHANGE_WORKER:"my_segments_change_worker",PRODUCER:"producer",READINESS:"readiness_gate",READY:"is_ready",READY_FROM_CACHE:"is_ready_from_cache",SETTINGS:"settings",STATUS_MANAGER:"status_manager",STORAGE:"storage"},bc=function(){function e(){Ds(this,e),this._map={},this.constants=_c}return Ps(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e&&("string"!=typeof e||e.length)){var n=this._map[e];if(void 0!==n)return n;if(!t){var r,i=new Promise((function(e){return r=e}));return i.manualResolve=r,this._map[e]=i,i}}}},{key:"getAll",value:function(){return ps()({},this._map)}},{key:"put",value:function(e,t){var n=this;if("string"!=typeof e||"string"==typeof e&&!e.length||void 0===t)return!1;var r=this._map[e];return(void 0===r||"function"==typeof r.manualResolve)&&(vs(r)&&r.manualResolve&&r.manualResolve(t),vs(t)&&t.then((function(t){return n._map[e]=t,t})).catch((function(t){return n._map[e]=void 0,t})),this._map[e]=t,!0)}}]),e}(),kc=function(e){return ws(e)?{matchingKey:e.matchingKey,bucketingKey:e.bucketingKey}:{matchingKey:e,bucketingKey:e}};function Sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tc,Ec="object"===("undefined"==typeof performance?"undefined":ys(performance))&&"function"==typeof performance.now?performance.now.bind(performance):Date.now,wc=new Hs("[TIME TRACKER]",{showLevel:!1}),Cc={},Ac={SDK_READY:"Getting ready - Split SDK",SDK_GET_TREATMENT:"SDK - Get Treatment",SDK_GET_TREATMENTS:"SDK - Get Treatments",SDK_GET_TREATMENT_WITH_CONFIG:"SDK - Get Treatment with config",SDK_GET_TREATMENTS_WITH_CONFIG:"SDK - Get Treatments with config",SPLITS_READY:"Getting ready - Splits",SEGMENTS_READY:"Getting ready - Segments",METRICS_PUSH:"Pushing - Metrics",IMPRESSIONS_PUSH:"Pushing - Impressions",EVENTS_PUSH:"Pushing - Events",MY_SEGMENTS_FETCH:"Fetching - My Segments",SEGMENTS_FETCH:"Fetching - Segments",SPLITS_FETCH:"Fetching - Splits"},Ic=(Sc(Tc={},Ac.SDK_READY,{collector:"client",method:"ready"}),Sc(Tc,Ac.SDK_GET_TREATMENT,{collector:"client",method:"getTreatment"}),Sc(Tc,Ac.SDK_GET_TREATMENTS,{collector:"client",method:"getTreatments"}),Sc(Tc,Ac.SDK_GET_TREATMENT_WITH_CONFIG,{collector:"client",method:"getTreatmentWithConfig"}),Sc(Tc,Ac.SDK_GET_TREATMENTS_WITH_CONFIG,{collector:"client",method:"getTreatmentsWithConfig"}),Sc(Tc,Ac.MY_SEGMENTS_FETCH,{collector:"mySegments",method:"latency"}),Sc(Tc,Ac.SEGMENTS_FETCH,{collector:"segmentChanges",method:"latency"}),Sc(Tc,Ac.SPLITS_FETCH,{collector:"splitChanges",method:"latency"}),Tc),Nc=function(e,t){return"string"==typeof t?e+t:e},Oc=function(e,t){var n=Ic[e];return!(!n||!t)&&t[n.collector]},Rc=function(e,t){var n=Ic[e];return!(!n||!t)&&t[n.method]},Dc={__attachToPromise:function(e,t,n,r){var i=this;return e.then((function(e){return i.stop(t,r),n&&n.count&&n.count(e.status),e})).catch((function(e){throw i.stop(t,r),n&&n.countException&&n.countException(),e}))},start:function(e,t,n){var r,i=Es++,o=Oc(e,t);vs(n)?r=this.__attachToPromise(n,e,o,i):(r=this.stop.bind(this,e,i),Ic[e]&&!o&&(r.setCollectorForTask=this.setCollectorForTask.bind(this,e,i)));var a,s=Nc(e,i),u=Rc(e,o);return Cc[s]={cb:u,timer:(a=Ec(),function(){return Math.round(Ec()-a)})},r},setCollectorForTask:function(e,t,n){var r=Oc(e,n);if(r){var i=Nc(e,t);Cc[i].cb=Rc(e,r)}},stop:function(e,t){var n=Nc(e,t),r=Cc[n];if(r){var i=r.timer();return wc.debug("[".concat(e,"] took ").concat(i,"ms to finish.")),r.cb&&r.cb(i),delete Cc[n],i}},TaskNames:Ac},xc={ALL:1,SEGMENT:2,WHITELIST:3,EQUAL_TO:4,GREATER_THAN_OR_EQUAL_TO:5,LESS_THAN_OR_EQUAL_TO:6,BETWEEN:7,UNDEFINED:8,EQUAL_TO_SET:9,CONTAINS_ANY_OF_SET:10,CONTAINS_ALL_OF_SET:11,PART_OF_SET:12,ENDS_WITH:13,STARTS_WITH:14,CONTAINS_STRING:15,IN_SPLIT_TREATMENT:16,EQUAL_TO_BOOLEAN:17,MATCHES_STRING:18},Pc={BOOLEAN:"BOOLEAN",STRING:"STRING",NUMBER:"NUMBER",SET:"SET",DATETIME:"DATETIME",NOT_SPECIFIED:"NOT_SPECIFIED"},Mc=function(){function e(){var t=this;Ds(this,e),this.__setData__=[];var n=arguments[0];Array.isArray(n)&&n.forEach((function(e){t.add(e)}))}return Ps(e,[{key:"clear",value:function(){this.__setData__.length&&(this.__setData__.length=0)}},{key:"add",value:function(e){return this.has(e)||this.__setData__.push(e),this}},{key:"delete",value:function(e){var t=this.__setData__.indexOf(e);return-1!==t&&(this.__setData__.splice(t,1),!0)}},{key:"has",value:function(e){return-1!==this.__setData__.indexOf(e)}},{key:"forEach",value:function(e){var t=arguments[1];if("function"!=typeof e)throw new TypeError(e+" is not a function");for(var n=0;n<this.__setData__.length;n++){var r=this.__setData__[n];e.call(t,r,r,this)}}},{key:"size",get:function(){return this.__setData__.length}}]),e}();function Fc(e){return e instanceof Mc?e.__setData__.slice():Array.from(e)}var Lc=Array.from&&Set&&Set.prototype.values?Set:Mc,jc=function(e){return e.whitelist},Hc=function(e){return e.value};function Uc(e){return new Date(e).setUTCHours(0,0,0,0)}function Vc(e){return new Date(e).setUTCSeconds(0,0)}var Gc=function(e){var t=e.map((function(e){var t=e.negate,n=e.keySelector,r=e.userDefinedSegmentMatcherData,i=e.whitelistMatcherData,o=e.unaryNumericMatcherData,a=e.betweenMatcherData,s=e.dependencyMatcherData,u=e.booleanMatcherData,c=e.stringMatcherData,l=n&&n.attribute,f=function(e){switch(e){case"ALL_KEYS":return xc.ALL;case"IN_SEGMENT":return xc.SEGMENT;case"WHITELIST":return xc.WHITELIST;case"EQUAL_TO":return xc.EQUAL_TO;case"GREATER_THAN_OR_EQUAL_TO":return xc.GREATER_THAN_OR_EQUAL_TO;case"LESS_THAN_OR_EQUAL_TO":return xc.LESS_THAN_OR_EQUAL_TO;case"BETWEEN":return xc.BETWEEN;case"EQUAL_TO_SET":return xc.EQUAL_TO_SET;case"CONTAINS_ANY_OF_SET":return xc.CONTAINS_ANY_OF_SET;case"CONTAINS_ALL_OF_SET":return xc.CONTAINS_ALL_OF_SET;case"PART_OF_SET":return xc.PART_OF_SET;case"ENDS_WITH":return xc.ENDS_WITH;case"STARTS_WITH":return xc.STARTS_WITH;case"CONTAINS_STRING":return xc.CONTAINS_STRING;case"IN_SPLIT_TREATMENT":return xc.IN_SPLIT_TREATMENT;case"EQUAL_TO_BOOLEAN":return xc.EQUAL_TO_BOOLEAN;case"MATCHES_STRING":return xc.MATCHES_STRING;default:return xc.UNDEFINED}}(e.matcherType),h=Pc.STRING,d=void 0;return f===xc.SEGMENT?d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.segmentName}(r):f===xc.WHITELIST?d=function(e){return new Lc(e.whitelist)}(i):f===xc.EQUAL_TO?(d=Hc(o),h=Pc.NUMBER,"DATETIME"===o.dataType&&(d=Uc(d),h=Pc.DATETIME)):f===xc.GREATER_THAN_OR_EQUAL_TO||f===xc.LESS_THAN_OR_EQUAL_TO?(d=Hc(o),h=Pc.NUMBER,"DATETIME"===o.dataType&&(d=Vc(d),h=Pc.DATETIME)):f===xc.BETWEEN?(d=a,h=Pc.NUMBER,"DATETIME"===a.dataType&&(d.start=Vc(d.start),d.end=Vc(d.end),h=Pc.DATETIME)):f===xc.EQUAL_TO_SET||f===xc.CONTAINS_ANY_OF_SET||f===xc.CONTAINS_ALL_OF_SET||f===xc.PART_OF_SET?(d=jc(i),h=Pc.SET):f===xc.STARTS_WITH||f===xc.ENDS_WITH||f===xc.CONTAINS_STRING?d=jc(i):f===xc.IN_SPLIT_TREATMENT?(d=s,h=Pc.NOT_SPECIFIED):f===xc.EQUAL_TO_BOOLEAN?(h=Pc.BOOLEAN,d=u):f===xc.MATCHES_STRING&&(d=c),{attribute:l,negate:t,type:f,value:d,dataType:h}}));return-1===_s(t,(function(e){return e.type===xc.UNDEFINED}))?t:[]};function Kc(e,t){if(!(this instanceof Kc))return new Kc(e,t);if(100!==e[e.length-1])throw new RangeError("Provided invalid dataset as input");this._ranges=e,this._treatments=t}Kc.parse=function(e){var t=e.reduce((function(e,t){var n=t.treatment;return e.ranges.push(e.inc+=t.size),e.treatments.push(n),e}),{inc:0,ranges:[],treatments:[]});return new Kc(t.ranges,t.treatments)},Kc.prototype.getTreatmentFor=function(e){if(e<0||e>100)throw new RangeError("Please provide a value between 0 and 100");var t=_s(this._ranges,(function(t){return e<=t}));return this._treatments[t]};var Bc=Kc,Wc=Ys("splitio-engine:matcher");function zc(e){return Wc.debug("[allMatcher] is always true"),null!=e}var qc=Ys("splitio-engine:matcher"),Yc=Ys("splitio-engine:matcher"),Zc=Ys("splitio-engine:matcher"),Qc=Ys("splitio-engine:matcher"),Jc=Ys("splitio-engine:matcher"),$c=Ys("splitio-engine:matcher"),Xc=Ys("splitio-engine:matcher"),el=Ys("splitio-engine:matcher"),tl=Ys("splitio-engine:matcher"),nl=Ys("splitio-engine:matcher"),rl=Ys("splitio-engine:matcher"),il=Ys("splitio-engine:matcher"),ol=Ys("splitio-engine:matcher"),al=Ys("splitio-engine:matcher");function sl(e,t,n){var r=!1;return Array.isArray(t)&&(r=-1!==t.indexOf(e.treatment)),al.debug('[dependencyMatcher] Parent split "'.concat(n,'" evaluated to "').concat(e.treatment,'" with label "').concat(e.label,'". ').concat(n," evaluated treatment is part of [").concat(t,"] ? ").concat(r,".")),r}var ul=Ys("splitio-engine:matcher"),cl=Ys("splitio-engine:matcher"),ll=function(e,t){var n,r,i,o=e.type,a=e.value;return o===xc.ALL?n=zc:o===xc.SEGMENT?n=function(e,t){return function(n){var r=t.segments.isInSegment(e,n);return vs(r)?r.then((function(t){return qc.debug("[asyncSegmentMatcher] evaluated ".concat(e," / ").concat(n," => ").concat(r)),t})):qc.debug("[segmentMatcher] evaluated ".concat(e," / ").concat(n," => ").concat(r)),r}}(a,t):o===xc.WHITELIST?(i=a,n=function(e){var t=i.has(e);return Yc.debug("[whitelistMatcher] evaluated ".concat(e," in [").concat(Fc(i).join(","),"] => ").concat(t)),t}):o===xc.EQUAL_TO?n=function(e){return function(t){var n=t===e;return Zc.debug("[equalToMatcher] is ".concat(t," equal to ").concat(e,"? ").concat(n)),n}}(a):o===xc.GREATER_THAN_OR_EQUAL_TO?n=function(e){return function(t){var n=t>=e;return Qc.debug("[greaterThanEqualMatcher] is ".concat(t," greater than ").concat(e,"? ").concat(n)),n}}(a):o===xc.LESS_THAN_OR_EQUAL_TO?n=function(e){return function(t){var n=t<=e;return Jc.debug("[lessThanEqualMatcher] is ".concat(t," less than ").concat(e,"? ").concat(n)),n}}(a):o===xc.BETWEEN?(r=a,n=function(e){var t=e>=r.start&&e<=r.end;return $c.debug("[betweenMatcher] is ".concat(e," between ").concat(r.start," and ").concat(r.end,"? ").concat(t)),t}):o===xc.EQUAL_TO_SET?n=function(e){return function(t){for(var n=t.length===e.length,r=function(r){_s(e,(function(e){return e===t[r]}))<0&&(n=!1)},i=0;i<t.length&&n;i++)r(i);return Xc.debug("[equalToSetMatcher] is ".concat(t," equal to set ").concat(e,"? ").concat(n)),n}}(a):o===xc.CONTAINS_ANY_OF_SET?n=function(e){return function(t){for(var n=!1,r=function(r){_s(t,(function(t){return t===e[r]}))>=0&&(n=!0)},i=0;i<e.length&&!n;i++)r(i);return tl.debug("[containsAnyMatcher] ".concat(t," contains at least an element of ").concat(e,"? ").concat(n)),n}}(a):o===xc.CONTAINS_ALL_OF_SET?n=function(e){return function(t){var n=!0;if(t.length<e.length)n=!1;else for(var r=function(r){_s(t,(function(t){return t===e[r]}))<0&&(n=!1)},i=0;i<e.length&&n;i++)r(i);return el.debug("[containsAllMatcher] ".concat(t," contains all elements of ").concat(e,"? ").concat(n)),n}}(a):o===xc.PART_OF_SET?n=function(e){return function(t){for(var n=t.length<=e.length,r=function(r){_s(e,(function(e){return e===t[r]}))<0&&(n=!1)},i=0;i<t.length&&n;i++)r(i);return nl.debug("[partOfMatcher] ".concat(t," is part of ").concat(e,"? ").concat(n)),n}}(a):o===xc.STARTS_WITH?n=function(e){return function(t){var n=e.some((function(e){return gs(t,e)}));return rl.debug("[startsWithMatcher] ".concat(t," starts with ").concat(e,"? ").concat(n)),n}}(a):o===xc.ENDS_WITH?n=function(e){return function(t){var n=e.some((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(!ks(e)||!ks(t))&&(n&&(e=e.toLowerCase(),t=t.toLowerCase()),e.slice(e.length-t.length)===t)}(t,e)}));return il.debug("[endsWithMatcher] ".concat(t," ends with ").concat(e,"? ").concat(n)),n}}(a):o===xc.CONTAINS_STRING?n=function(e){return function(t){var n=e.some((function(e){return ks(t)&&t.indexOf(e)>-1}));return ol.debug("[containsStringMatcher] ".concat(t," contains ").concat(e,"? ").concat(n)),n}}(a):o===xc.IN_SPLIT_TREATMENT?n=function(e,t){var n=e.split,r=e.treatments;return function(e,i){var o=e.key,a=e.attributes;al.debug('[dependencyMatcher] will evaluate parent split: "'.concat(n,'" with key: ').concat(JSON.stringify(o)," ").concat(a?"\n attributes: ".concat(JSON.stringify(a)):""));var s=i(o,n,a,t);return vs(s)?s.then((function(e){return sl(e,r,n)})):sl(s,r,n)}}(a,t):o===xc.EQUAL_TO_BOOLEAN?n=function(e){return function(t){var n=e===t;return ul.debug("[booleanMatcher] ".concat(e," === ").concat(t)),n}}(a):o===xc.MATCHES_STRING&&(n=function(e){return function(t){var n;try{n=new RegExp(e)}catch(i){return cl.debug("[stringMatcher] ".concat(e," is an invalid regex")),!1}var r=n.test(t);return cl.debug("[stringMatcher] does ".concat(t," matches with ").concat(e,"? ").concat(r?"yes":"no")),r}}(a)),n},fl=Ys("splitio-engine:sanitize"),hl=xc,dl=Pc;function pl(e,t){return{key:e,attributes:t}}var vl=Ys("splitio-engine:value"),yl=function(e,t,n){var r=t.attribute,i=function(e,t,n){var r=void 0;return t?n?(r=n[t],vl.debug("Extracted attribute [".concat(t,"], [").concat(r,"] will be used for matching."))):vl.warn("Defined attribute [".concat(t,"], no attributes received.")):r=e,r}(e,r,n),o=function(e,t,n,r){var i,o,a,s,u=function(e,t){switch(e){case hl.EQUAL_TO:return"DATETIME"===t?Uc:void 0;case hl.GREATER_THAN_OR_EQUAL_TO:case hl.LESS_THAN_OR_EQUAL_TO:case hl.BETWEEN:return"DATETIME"===t?Vc:void 0;case hl.IN_SPLIT_TREATMENT:return pl;default:return}}(e,n);switch(n){case dl.NUMBER:case dl.DATETIME:o=Ns(t),i=isNaN(o)?void 0:o;break;case dl.STRING:s=a=t,ws(a)&&(s=a.matchingKey?a.matchingKey:void 0),i=Is(s)||void 0;break;case dl.SET:i=function(e){var t=Array.isArray(e)?As(e.map((function(e){return e+""}))):[];return t.length?t:void 0}(t);break;case dl.BOOLEAN:i=function(e){if(!0===e||!1===e)return e;if("string"==typeof e){var t=e.toLocaleLowerCase();if("true"===t)return!0;if("false"===t)return!1}}(t);break;case dl.NOT_SPECIFIED:i=t;break;default:i=void 0}return u&&(i=u(i,r)),fl.debug("Attempted to sanitize [".concat(t,"] which should be of type [").concat(n,"]. \n Sanitized and processed value => [").concat(i instanceof Object?JSON.stringify(i):i,"]")),i}(t.type,i,t.dataType,n);return void 0!==o?o:void vl.warn("Value ".concat(i," ").concat(r?"for attribute ".concat(r," "):0,"doesn't match with expected type."))};function gl(e){var t=function(e){return t=function(e){return(e=Number(e))<0?Math.ceil(e):Math.floor(e)}(e),n=Math.pow(2,32),t-Math.floor(t/n)*n;var t,n}(e);return t>=Math.pow(2,31)?t-Math.pow(2,32):t}var ml=function(e,t){return Math.abs(function(e,t){for(var n=0,r=0;r<e.length;r++)n=gl(gl(31*n)+e.charCodeAt(r));return gl(n^t)}(e,t)%100)+1},_l=n("y5ZV"),bl=n.n(_l),kl=bl.a.stringSource,Sl=bl.a.stringDestination,Tl=bl.a.encodeUTF16toUTF8;function El(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function wl(e,t){return e<<t|e>>>32-t}function Cl(e,t){return function(e,t){for(var n,r=(e=e||"").length%4,i=e.length-r,o=t=t||0,a=0,s=3432918353,u=461845907,c=0;c<i;c+=4)a=El(a=255&e.charCodeAt(c)|(255&e.charCodeAt(c+1))<<8|(255&e.charCodeAt(c+2))<<16|(255&e.charCodeAt(c+3))<<24,s),a=El(a=wl(a,15),u),o=El(o=wl(o^=a,13),5)+3864292196;switch(a=0,r){case 3:a^=(255&e.charCodeAt(c+2))<<16;case 2:a^=(255&e.charCodeAt(c+1))<<8;case 1:a=El(a^=255&e.charCodeAt(c),s),o^=a=El(a=wl(a,15),u)}return n=o^=e.length,n=El(n^=n>>>16,2246822507),n=El(n^=n>>>13,3266489909),(o=n^=n>>>16)>>>0}((Tl(kl(e),n=Sl()),n()),t>>>0);var n}var Al={hash:Cl,bucket:function(e,t){return Math.abs(Cl(e,t)%100)+1}},Il=Ys("splitio-engine");function Nl(e){return 2===e?Al.bucket:ml}var Ol=function(e,t,n,r){var i=Nl(r)(e,t),o=n.getTreatmentFor(i);return Il.debug("[engine] using algo ".concat(2!==r?"legacy":"murmur"," bucket ").concat(i," for key ").concat(e," using seed ").concat(t," - treatment ").concat(o)),o};function Rl(e,t,n,r,i,o){if(e)return{treatment:Ol(t,n,r,o),label:i}}var Dl=function(e,t,n,r){return function(i,o,a,s,u,c,l){if("ROLLOUT"===r&&!function(e,t,n,r){return!(e<100&&Nl(r)(t,n)>e)}(a,i.bucketingKey,s,l))return{treatment:void 0,label:"not in split"};var f=e(i,c,u);return vs(f)?f.then((function(e){return Rl(e,i.bucketingKey,o,t,n,l)})):Rl(f,i.bucketingKey,o,t,n,l)}},xl=Ys("splitio-engine:combiner");function Pl(){return xl.error("Invalid Split provided, no valid conditions found"),{treatment:mu,label:"exception"}}function Ml(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];if(void 0!==r)return xl.debug("Treatment found: ".concat(r.treatment)),r}xl.debug("All predicates evaluated, no treatment found.")}var Fl=Ys("splitio-engine:combiner");function Ll(e){for(var t,n=0,r=e.length;n<r&&e[n];n++);return Fl.debug("[andCombiner] evaluates to ".concat(t=n===r)),t}var jl=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=e.map((function(e){return e.apply(void 0,n)}));return-1!==_s(i,vs)?Promise.all(i).then(Ll):Ll(i)}};function Hl(e,t){return{treatment:ms(e,"treatment",t),label:ms(e,"label","default rule")}}function Ul(e,t){if(!(this instanceof Ul))return new Ul(e,t);this.baseInfo=e,this.evaluator=t,"string"!=typeof this.baseInfo.defaultTreatment&&(this.baseInfo.defaultTreatment=mu)}Ul.parse=function(e,t){var n=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i.matcherGroup.matchers,a=i.partitions,s=i.label,u=i.conditionType,c=(o=Gc(o)).map((function(e){var n=ll(e,t);return function(t,r,i){var o=yl(t,e,r),a=void 0!==o&&n(o,i);return vs(a)?a.then((function(t){return Boolean(t^e.negate)})):Boolean(a^e.negate)}}));if(0===c.length){n=[];break}n.push(Dl(jl(c),Bc.parse(a),s,u))}return function(e){return!Array.isArray(e)||Array.isArray(e)&&0===e.length?Pl:function(t,n,r,i,o,a,s){var u=e.map((function(e){return e(t,n,r,i,s,o,a)}));return-1!==_s(u,vs)?Promise.all(u).then((function(e){return Ml(e)})):Ml(u)}}(n)}(e.conditions,t);return new Ul(ps()({},e),n)},Ul.prototype.getKey=function(){return this.baseInfo.name},Ul.prototype.getTreatment=function(e,t,n){var r,i,o,a=this.baseInfo,s=a.killed,u=a.seed,c=a.defaultTreatment,l=a.trafficAllocation,f=a.trafficAllocationSeed,h=a.algo;try{r=kc(e)}catch(p){return{treatment:mu,label:"exception"}}if(this.isGarbage())i=mu,o="archived";else{if(!s){var d=this.evaluator(r,u,l,f,t,h,n);return vs(d)?d.then((function(e){return Hl(e,c)})):Hl(d,c)}i=c,o="killed"}return{treatment:i,label:o}},Ul.prototype.isGarbage=function(){return"ARCHIVED"===this.baseInfo.status},Ul.prototype.getChangeNumber=function(){return this.baseInfo.changeNumber};var Vl=Ul,Gl={treatment:mu,label:"exception",config:null};function Kl(e,t,n,r){var i;try{i=r.splits.getSplit(t)}catch(o){return Promise.resolve(Gl)}return vs(i)?i.then((function(t){return Wl(t,e,n,r)})):Wl(i,e,n,r)}function Bl(e,t,n,r){var i,o={};try{i=r.splits.fetchMany(t)}catch(a){return t.forEach((function(e){o[e]=Gl})),Promise.resolve(o)}return vs(i)?i.then((function(i){return zl(t,i,e,n,r)})):zl(t,i,e,n,r)}function Wl(e,t,n,r){var i={treatment:mu,label:"definition not found",config:null};if(e){var o=JSON.parse(e),a=Vl.parse(o,r);if(i=a.getTreatment(t,n,Kl),vs(i))return i.then((function(e){return e.changeNumber=a.getChangeNumber(),e.config=ms(o,"configurations.".concat(e.treatment),null),e}));i.changeNumber=a.getChangeNumber(),i.config=ms(o,"configurations.".concat(i.treatment),null)}return i}function zl(e,t,n,r,i){var o={},a=[];return e.forEach((function(e){var s=Wl(t[e],n,r,i);vs(s)?a.push(s.then((function(t){o[e]=t}))):o[e]=s})),a.length>0?Promise.all(a).then((function(){return o})):o}var ql=Ys("splitio-client:impression-tracker"),Yl=Ys("splitio-client:impressions-tracker"),Zl=Ys("splitio-client:event-tracker"),Ql=Ys("splitio-client"),Jl=function(e){var t,n=e.get(e.constants.SETTINGS),r=ms(n,"core.key",void 0),i=ms(n,"core.trafficType",void 0);n.core.key="localhost"===n.mode&&void 0===r?"localhost_key":uu(r,"Client instantiation");var o=[n.core.key];if(void 0!==i){var a=Tu(i,"Client instantiation");n.core.trafficType=a,o.push(a)}var s=function(e,t,n){var r="REDIS"!==e.get(e.constants.SETTINGS).storage.type,i=function(e){var t=e.get(e.constants.STORAGE),n=e.get(e.constants.COLLECTORS),r=function(e){var t=e.get(e.constants.STORAGE).impressions,n=e.get(e.constants.SETTINGS),r=n.impressionListener,i=e.get(e.constants.INTEGRATIONS_MANAGER,!0),o=n.runtime,a=o.ip,s=o.hostname,u=n.version;return{track:function(e,n){var o=t.track([e]);if(vs(o)&&o.catch((function(e){ql.error("Could not store impression. Error: ".concat(e))})),r||i){var c={impression:ps()({},e),attributes:n,ip:a,hostname:s,sdkLanguageVersion:u};setTimeout((function(){i&&i.handleImpression(c);try{r&&r.logImpression(c)}catch(e){ql.error("Impression listener logImpression method threw: ".concat(e,"."))}}),0)}}}}(e),i=function(e){var t=e.get(e.constants.STORAGE).impressions,n=e.get(e.constants.SETTINGS),r=n.impressionListener,i=e.get(e.constants.INTEGRATIONS_MANAGER,!0),o=n.runtime,a=o.ip,s=o.hostname,u=n.version,c=[];return{queue:function(e,t){c.push({impression:e,attributes:t})},track:function(){var e=c.length,n=c.splice(0,e),o=t.track(n.map((function(e){return e.impression})));if(vs(o)&&o.then((function(){Yl.debug("Successfully stored ".concat(e," impression").concat(1===e?"":"s","."))})).catch((function(t){Yl.error("Could not store impressions bulk with ".concat(e," impression").concat(1===e?"":"s",". Error: ").concat(t))})),r||i)for(var l=function(e){var t={impression:ps()({},n[e].impression),attributes:n[e].attributes,ip:a,hostname:s,sdkLanguageVersion:u};setTimeout((function(){i&&i.handleImpression(t);try{r&&r.logImpression(t)}catch(e){Yl.error("Impression listener logImpression method threw: ".concat(e,"."))}}),0)},f=0;f<e;f++)l(f)}}}(e),o=function(e){var t=e.get(e.constants.STORAGE).events,n=e.get(e.constants.INTEGRATIONS_MANAGER,!0);function r(e,t){var r=e.trafficTypeName,i=e.key,o=e.value,a=e.timestamp,s=e.properties,u='event of type "'.concat(e.eventTypeId,'" for traffic type "').concat(r,'". Key: ').concat(i,". Value: ").concat(o,". Timestamp: ").concat(a,". ").concat(s?"With properties.":"With no properties.");return t?(Zl.info("Successfully qeued ".concat(u)),n&&setTimeout((function(){var t=ps()({},e);e.properties&&(t.properties=ps()({},e.properties)),n.handleEvent(t)}),0)):Zl.warn("Failed to queue ".concat(u)),t}return{track:function(e,n){var i=t.track(e,n);return vs(i)?i.then(r.bind(null,e)):r(e,i)}}}(e);function a(e,i,o){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=Dc.TaskNames[a?"SDK_GET_TREATMENT_WITH_CONFIG":"SDK_GET_TREATMENT"],c=Dc.start(s,n),l=Kl(e,i,o,t);return vs(l)?l.then((function(t){return u(t,i,e,o,c,r.track,a,"getTreatment".concat(a?"withConfig":""))})):u(l,i,e,o,c,r.track,a,"getTreatment".concat(a?"withConfig":""))}function s(e,r,o){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=Dc.TaskNames[a?"SDK_GET_TREATMENTS_WITH_CONFIG":"SDK_GET_TREATMENTS"],c=Dc.start(s,n),l={},f=function(t){return Object.keys(t).forEach((function(n){l[n]=u(t[n],n,e,o,!1,i.queue,a,"getTreatments".concat(a?"withConfig":""))})),i.track(),c(),l},h=Bl(e,r,o,t);return vs(h)?h.then((function(e){return f(e)})):f(h)}function u(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=e.get(e.constants.READY,!0)||e.get(e.constants.READY_FROM_CACHE,!0),l=rc(r),f=ic(r);c||(t={treatment:mu,label:"not ready"});var h=t,d=h.treatment,p=h.label,v=h.changeNumber,y=h.config,g=void 0===y?null:y;return Ql.info("Split: ".concat(n,". Key: ").concat(l,". Evaluation: ").concat(d,". Label: ").concat(p)),hu(e,n,p,u)&&(Ql.info("Queueing corresponding impression."),a({feature:n,keyName:l,treatment:d,time:Date.now(),bucketingKey:f,label:p,changeNumber:v},i)),o&&o(),s?{treatment:d,config:g}:d}return{getTreatment:a,getTreatmentWithConfig:function(e,t,n){return a(e,t,n,!0)},getTreatments:s,getTreatmentsWithConfig:function(e,t,n){return s(e,t,n,!0)},track:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1024,u=rc(t),c=Date.now(),l={eventTypeId:r,trafficTypeName:n,value:i,timestamp:c,key:u,properties:a};return wu(n,e,"track"),o.track(l,s)}}}(e),o=i.getTreatment,a=i.getTreatmentWithConfig,s=i.getTreatments,u=i.getTreatmentsWithConfig,c=i.track;function l(t,n,r,i){var o,a,s=t,u=gs(i,"getTreatments")?pu(n,i):fu(n,i),c=(a=i,ws(o=r)||null==o?o:($s.error("".concat(a,": attributes must be a plain object.")),!1)),l=Au(e);return Iu(e,i),{valid:l&&s&&u&&!1!==c,key:s,splitOrSplits:u,attributes:c}}return i.getTreatment=function(e,t,n){var i=l(e,t,n,"getTreatment");return i.valid?o(i.key,i.splitOrSplits,i.attributes):r?mu:Promise.resolve(mu)},i.getTreatmentWithConfig=function(e,t,n){var i=l(e,t,n,"getTreatmentWithConfig");return i.valid?a(i.key,i.splitOrSplits,i.attributes):r?ps()({},_u):Promise.resolve(ps()({},_u))},i.getTreatments=function(e,t,n){var i=l(e,t,n,"getTreatments");if(i.valid)return s(i.key,i.splitOrSplits,i.attributes);var o={};return i.splitOrSplits&&i.splitOrSplits.forEach((function(e){return o[e]=mu})),r?o:Promise.resolve(o)},i.getTreatmentsWithConfig=function(e,t,n){var i=l(e,t,n,"getTreatmentsWithConfig");if(i.valid)return u(i.key,i.splitOrSplits,i.attributes);var o={};return i.splitOrSplits&&i.splitOrSplits.forEach((function(e){return o[e]=ps()({},_u)})),r?o:Promise.resolve(o)},i.track=function(t,i,o,a,s){var u=t,l=n?i:Tu(i,"track"),f=tu(o,"track"),h=ru(a,"track"),d=ou(s,"track"),p=d.properties,v=d.size;return Au(e)&&u&&l&&f&&!1!==h&&!1!==p?c(u,l,f,h,p,v):!r&&Promise.resolve(!1)},i}(e,0,o.length>1);return s.isBrowserClient=!0,s.getTreatment=s.getTreatment.bind(s,n.core.key),s.getTreatmentWithConfig=s.getTreatmentWithConfig.bind(s,n.core.key),s.getTreatments=s.getTreatments.bind(s,n.core.key),s.getTreatmentsWithConfig=s.getTreatmentsWithConfig.bind(s,n.core.key),s.track=(t=s.track).bind.apply(t,[s].concat(o)),s},$l=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o,a=!1;function s(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];a||(o=setTimeout((function(){e.apply(void 0,i.concat([s]))}),n))}function u(){clearTimeout(o),o=void 0,a=!0}return u.reset=function(){clearTimeout(o),o=void 0,s.apply(void 0,[t].concat(r))},e.apply(void 0,r.concat([s])),u},Xl=function(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={};for(var u in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(function e(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:e,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}}())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(u,t.headers[u]);i.send(t.body||null)}))};function ef(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function tf(e,t,n){return(tf=ef()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&$u(i,n.prototype),i}).apply(null,arguments)}function nf(e){var t="function"==typeof Map?new Map:void 0;return(nf=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return tf(e,arguments,tc(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),$u(n,e)})(e)}function rf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tc(e);if(t){var i=tc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ec(this,n)}}var of=function(e){Xu(n,e);var t=rf(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Split Error";return Ds(this,n),(e=t.call(this,r)).message=r,e}return n}(nf(Error)),af=function(e){Xu(n,e);var t=rf(n);function n(e){return Ds(this,n),t.call(this,e||"Split Timeout Error")}return n}(of),sf=function(e){Xu(n,e);var t=rf(n);function n(e,r){var i;return Ds(this,n),(i=t.call(this,e||"Split Network Error")).statusCode=r,i}return n}(of),uf=Ys("splitio-services:service");function cf(e){var t=e.url;return(window&&window.fetch||Xl)(t,e).then((function(e){if(!e.ok)throw{response:e};return e})).catch((function(n){var r=n.response,i="";if(r)switch(r.status){case 404:i="Invalid API key or resource not found.";break;default:i=r.statusText}else i=n.message;throw r&&403===r.status||uf[e.logErrorsAsInfo?"info":"error"]("Response status is not OK. Status: ".concat(r?r.status:"NO_STATUS",". URL: ").concat(t,". Message: ").concat(i)),new sf(i,r&&r.status)}))}var lf=cf,ff=function(e,t,n){var r=e.version,i=e.runtime,o=i.ip,a=i.hostname,s={Accept:"application/json","Content-Type":"application/json"};return s.Authorization="Bearer ".concat(e.core.authorizationKey),s.SplitSDKVersion=r,o&&(s.SplitSDKMachineIP=o),a&&(s.SplitSDKMachineName=a),ps()({headers:s,url:e.url(t)},{},n)};function hf(e){var t=[];return Os(e.toJSON(),(function(e,n){t.push({name:n,delta:e})})),t}var df=cf;function pf(e,t){return ff(e,"/testImpressions/bulk",ps()({method:"POST"},t))}function vf(e,t){var n=t.core.labelsEnabled,r=function(e,t){var n={};if(Array.isArray(e)&&ks("feature"))for(var r=0;r<e.length;r++){var i=e[r].feature;ks(i)&&(n[i]||(n[i]=[]),n[i].push(e[r]))}return n}(e.state()),i=[];return Os(r,(function(e,t){i.push({testName:t,keyImpressions:e.map((function(e){var t={keyName:e.keyName,treatment:e.treatment,time:e.time,changeNumber:e.changeNumber};return n&&(t.label=e.label),e.bucketingKey&&(t.bucketingKey=e.bucketingKey),t}))})})),i}function yf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tc(e);if(t){var i=tc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ec(this,n)}}var gf=function(){function e(t){Ds(this,e),this.storage=t,this.latency=this.latency.bind(this),this.count=this.count.bind(this),this.countException=this.countException.bind(this)}return Ps(e,[{key:"latency",value:function(e){this.storage.metrics.track("".concat(this.metricType,".time"),e)}},{key:"count",value:function(e){this.storage.count.track("".concat(this.metricType,".status.").concat(e))}},{key:"countException",value:function(){this.storage.count.track("".concat(this.metricType,".exception"))}}]),e}(),mf=function(e){Xu(n,e);var t=yf(n);function n(e){var r;return Ds(this,n),(r=t.call(this,e)).metricType="segmentChangeFetcher",r}return n}(gf),_f=function(e){Xu(n,e);var t=yf(n);function n(e){var r;return Ds(this,n),(r=t.call(this,e)).metricType="splitChangeFetcher",r}return n}(gf),bf=function(e){Xu(n,e);var t=yf(n);function n(e){var r;return Ds(this,n),(r=t.call(this,e)).metricType="mySegmentsFetcher",r}return n}(gf),kf=function(){function e(t){Ds(this,e),this.storage=t,this.ready=this.ready.bind(this),this.getTreatment=this.getTreatment.bind(this),this.getTreatments=this.getTreatments.bind(this),this.getTreatmentWithConfig=this.getTreatmentWithConfig.bind(this),this.getTreatmentsWithConfig=this.getTreatmentsWithConfig.bind(this)}return Ps(e,[{key:"ready",value:function(e){this.storage.metrics.track("sdk.ready",e)}},{key:"getTreatment",value:function(e){this.storage.metrics.track("sdk.getTreatment",e)}},{key:"getTreatments",value:function(e){this.storage.metrics.track("sdk.getTreatments",e)}},{key:"getTreatmentWithConfig",value:function(e){this.storage.metrics.track("sdk.getTreatmentWithConfig",e)}},{key:"getTreatmentsWithConfig",value:function(e){this.storage.metrics.track("sdk.getTreatmentsWithConfig",e)}}]),e}(),Sf=Ys("splitio-metrics"),Tf=cf;function Ef(e,t){return ff(e,"/events/bulk",ps()({method:"POST"},t))}var wf=Ys("splitio-events"),Cf=cf;function Af(e){return"users="+encodeURIComponent(e)}function If(){return window&&"function"==typeof window.EventSource?window.EventSource:void 0}var Nf=function(){function e(t,n,r){Ds(this,e),this.baseMillis=n||e.DEFAULT_BASE_MILLIS,this.maxMillis=r||e.DEFAULT_MAX_MILLIS,this.attempts=0,this.cb=t}return Ps(e,[{key:"scheduleCall",value:function(){var e=this,t=Math.min(this.baseMillis*Math.pow(2,this.attempts),this.maxMillis);return this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){e.cb()}),t),this.attempts++,t}},{key:"reset",value:function(){this.attempts=0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=0)}}]),e}();Nf.DEFAULT_BASE_MILLIS=1e3,Nf.DEFAULT_MAX_MILLIS=18e5;var Of=Nf,Rf=function(){function e(t,n){Ds(this,e),this.mySegmentsStorage=t,this.mySegmentsProducer=n,this.maxChangeNumber=0,this.segmentList=void 0,this.currentChangeNumber=-1,this.put=this.put.bind(this),this.__handleMySegmentUpdateCall=this.__handleMySegmentUpdateCall.bind(this),this.backoff=new Of(this.__handleMySegmentUpdateCall)}return Ps(e,[{key:"__handleMySegmentUpdateCall",value:function(){var e=this;if(this.maxChangeNumber>this.currentChangeNumber){this.handleNewEvent=!1;var t=this.maxChangeNumber;this.mySegmentsProducer.synchronizeMySegments(this.segmentList).then((function(n){!1!==n&&(e.currentChangeNumber=Math.max(e.currentChangeNumber,t)),e.handleNewEvent?e.__handleMySegmentUpdateCall():e.backoff.scheduleCall()}))}}},{key:"put",value:function(e,t){e<=this.currentChangeNumber||e<=this.maxChangeNumber||(this.maxChangeNumber=e,this.handleNewEvent=!0,this.backoff.reset(),this.segmentList=t,this.mySegmentsProducer.isSynchronizingMySegments()||this.__handleMySegmentUpdateCall())}}]),e}(),Df=function(){function e(t,n,r){Ds(this,e),this.splitStorage=t,this.splitProducer=n,this.maxChangeNumber=0,this.splitsEventEmitter=r,this.put=this.put.bind(this),this.killSplit=this.killSplit.bind(this),this.__handleSplitUpdateCall=this.__handleSplitUpdateCall.bind(this),this.backoff=new Of(this.__handleSplitUpdateCall)}return Ps(e,[{key:"__handleSplitUpdateCall",value:function(){var e=this;this.maxChangeNumber>this.splitStorage.getChangeNumber()&&(this.handleNewEvent=!1,this.splitProducer.synchronizeSplits().then((function(){e.handleNewEvent?e.__handleSplitUpdateCall():e.backoff.scheduleCall()})))}},{key:"put",value:function(e){e<=this.splitStorage.getChangeNumber()||e<=this.maxChangeNumber||(this.maxChangeNumber=e,this.handleNewEvent=!0,this.backoff.reset(),this.splitProducer.isSynchronizingSplits()||this.__handleSplitUpdateCall())}},{key:"killSplit",value:function(e,t,n){var r=this;this.splitStorage.killLocally(t,n,e).then((function(t){t&&r.splitsEventEmitter.emit(r.splitsEventEmitter.SDK_SPLITS_ARRIVED,!0),r.put(e)}))}}]),e}(),xf=/^control_/,Pf=function(){function e(t,n){Ds(this,e),this.EventSource=t,this.streamingUrl=n.url("/sse"),this.reopen=this.reopen.bind(this)}return Ps(e,null,[{key:"getInstance",value:function(t){var n=If();if(n)return new e(n,t)}}]),Ps(e,[{key:"setEventHandler",value:function(e){this.handler=e}},{key:"open",value:function(e){this.close(),this.authToken=e;var t=Object.keys(e.channels).map((function(e){var t=xf.test(e)?"[?occupancy=metrics.publishers]":"";return encodeURIComponent(t+e)})).join(","),n="".concat(this.streamingUrl,"?channels=").concat(t,"&accessToken=").concat(e.token,"&v=").concat("1.1","&heartbeats=true");this.connection=new this.EventSource(n),this.handler&&(this.connection.onopen=this.handler.handleOpen,this.connection.onmessage=this.handler.handleMessage,this.connection.onerror=this.handler.handleError)}},{key:"close",value:function(){this.connection&&this.connection.close()}},{key:"reopen",value:function(){this.open(this.authToken)}}]),e}(),Mf=/control_pri$/,Ff=Ys("splitio-sync:sse-handler");function Lf(e){return t=Al.hash(e,0).toString(),btoa(t);var t}var jf=Ys("splitio-sync:push-manager");var Hf=Ys("splitio-producer:task"),Uf=function(e,t){var n,r=(n=e).name?n.name:(n.toString().match(/function (.+?)\(/)||["",""])[1],i=!1;return{start:function(){i||(Hf.debug("Starting ".concat(r," refreshing each ").concat(t)),i=$l((function(t){Hf.debug("Running ".concat(r)),e().then((function(){return t()}))}),t))},stop:function(){Hf.debug("Stopping ".concat(r)),i&&i(),i=!1},isRunning:function(){return!!i}}},Vf=function(e,t){return e<1?t:new Promise((function(n,r){var i=setTimeout((function(){r(new af("Operation timed out because it exceeded the configured time limit of ".concat(e,"ms.")))}),e);t.then((function(e){clearTimeout(i),n(e)}),(function(e){clearTimeout(i),r(e)}))}))},Gf=cf;function Kf(e,t,n){return ff(e,"/splitChanges?since=".concat(t).concat(n||""))}var Bf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=e.sync.__splitFiltersValidation.queryString,a=Gf(Kf(e,t,o)),s=n||i;return a=Dc.start(Dc.TaskNames.SPLITS_FETCH,!!s&&r,a),n&&(a=Vf(e.startup.requestTimeoutBeforeReady,a)),a.then((function(e){return e.json().catch((function(e){throw new of(e.message)}))}))},Wf=Ys("splitio-producer:split-changes");function zf(e){var t=e.reduce((function(e,t){return"ACTIVE"===t.status?(e.added.push([t.name,JSON.stringify(t)]),(n=t.conditions,r=new Lc,n.forEach((function(e){e.matcherGroup.matchers.forEach((function(e){"IN_SEGMENT"===e.matcherType&&r.add(e.userDefinedSegmentMatcherData.segmentName)}))})),r).forEach((function(t){e.segments.add(t)}))):e.removed.push(t.name),e;var n,r}),{added:[],removed:[],segments:new Lc});return t.segments=Fc(t.segments),t}var qf=cf;function Yf(e){return ff(e,"/mySegments/".concat(rc(e.core.key)))}var Zf=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=qf(Yf(e));return r=Dc.start(Dc.TaskNames.MY_SEGMENTS_FETCH,!!t&&n,r),t&&(r=Vf(e.startup.requestTimeoutBeforeReady,r)),r.then((function(e){return e.json().catch((function(e){throw new of(e.message)}))})).then((function(e){return e.mySegments.map((function(e){return e.name}))}))},Qf=Ys("splitio-producer:my-segments"),Jf=Ys("splitio-producer:mySegmentsHandler"),$f=function(e){var t=e.get(e.constants.SETTINGS),n=e.get(e.constants.STORAGE).splits,r=e.get(e.constants.READINESS),i=r.splits,o=r.segments,a=function(e){var t=e.getAll(),n=t[e.constants.SETTINGS],r=t[e.constants.STORAGE],i=t[e.constants.COLLECTORS],o=t[e.constants.READINESS].segments,a=!0,s=!0;function u(e){var t=r.segments.resetSegments(e);r.splits.usesSegments()&&(t||a)&&(a=!1,o.emit(o.SDK_SEGMENTS_ARRIVED))}return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return(r?new Promise((function(e){u(r),e()})):Zf(n,s,i).then((function(e){s=!1,u(e)}))).catch((function(r){return r instanceof of||setTimeout((function(){throw r}),0),s&&n.startup.retriesOnFailureBeforeReady>t?(Qf.warn("Retrying download of segments #".concat(t+=1,". Reason: ").concat(r)),e(t)):(s=!1,!1)}))}}(e),s=Uf(c,t.scheduler.segmentsRefreshRate);i.on(i.SDK_SPLITS_ARRIVED,(function(){if(l){var e=n.usesSegments();e!==s.isRunning()&&(Jf.info("Turning segments data polling ".concat(e?"ON":"OFF",".")),e?s.start():s.stop())}})),n.usesSegments()?i.once(i.SDK_SPLITS_ARRIVED,f):setTimeout(f,0);var u=!1;function c(e){return u=!0,a(0,e).then((function(e){return u=!1,e}))}var l=!1;function f(){e.get(e.constants.READY,!0)||n.usesSegments()||o.emit(o.SDK_SEGMENTS_ARRIVED)}return{start:function(){l=!0,n.usesSegments()&&s.start()},stop:function(){l=!1,s.stop()},isRunning:function(){return l},isSynchronizingMySegments:function(){return u},synchronizeMySegments:c}},Xf=Ys("splitio-producer:updater"),eh=Ys("splitio-sync:sync-manager"),th=Ys("splitio-client:cleanup"),nh=function(){function e(t){Ds(this,e),this.storage=t.get(t.constants.STORAGE),this.settings=t.get(t.constants.SETTINGS),this.flushData=this.flushData.bind(this)}return Ps(e,[{key:"start",value:function(){window&&window.addEventListener&&(th.debug("Registering flush handler when unload page event is triggered."),window.addEventListener("unload",this.flushData))}},{key:"stop",value:function(){window&&window.removeEventListener&&(th.debug("Deregistering flush handler when unload page event is triggered."),window.removeEventListener("unload",this.flushData))}},{key:"flushData",value:function(){this._flushImpressions(),this._flushEvents()}},{key:"_flushImpressions",value:function(){var e=this.storage.impressions;if(!e.isEmpty()){var t=this.settings.url("/testImpressions/beacon"),n=vf(e,this.settings);this._sendBeacon(t,n)||df(pf(this.settings,{body:JSON.stringify(n)})),e.clear()}}},{key:"_flushEvents",value:function(){var e=this.storage.events;if(!e.isEmpty()){var t=this.settings.url("/events/beacon"),n=e.toJSON();this._sendBeacon(t,n)||Tf(Ef(this.settings,{body:JSON.stringify(n)})),e.clear()}}},{key:"_sendBeacon",value:function(e,t){if(navigator&&navigator.sendBeacon){var n=JSON.stringify({entries:t,token:this.settings.core.authorizationKey,sdk:this.settings.version});return navigator.sendBeacon(e,n)}return!1}}]),e}(),rh={},ih=function(e,t,n){var r,i=!!n,o=e.get(e.constants.SETTINGS),a=e.get(e.constants.READINESS),s=e.get(e.constants.STORAGE),u=e.get(e.constants.STATUS_MANAGER),c=a.gate,l=a.splits,f=a.segments,h=c.SDK_READY,d=i?void 0:function(e){var t=0,n=e.get(e.constants.SETTINGS),r=e.get(e.constants.STORAGE),i=function(){if(r.impressions.isEmpty())return Promise.resolve();var e=r.impressions.queue.length;Sf.info("Pushing ".concat(e," impressions"));var i=Dc.start(Dc.TaskNames.IMPRESSIONS_PUSH);return df(pf(n,{body:JSON.stringify(vf(r.impressions,n))})).then((function(){t=0,r.impressions.clear()})).catch((function(n){t?(Sf.warn("Droping ".concat(e," impressions after retry. Reason ").concat(n,".")),t=0,r.impressions.clear()):(t++,Sf.warn("Failed to push ".concat(e," impressions, keeping data to retry on next iteration. Reason ").concat(n,".")))})).then((function(){return i()}))},o=!1,a=!1;return{start:function(){o=$l((function(e){return i().then((function(){return e()}))}),n.scheduler.impressionsRefreshRate),a=$l((function(e){return function(){if(r.metrics.isEmpty()&&r.count.isEmpty())return Promise.resolve();Sf.info("Pushing metrics");var e,t,i=Dc.start(Dc.TaskNames.METRICS_PUSH),o=r.metrics.isEmpty()?null:lf(function(e,t){return ff(e,"/metrics/times",ps()({method:"POST"},t,{logErrorsAsInfo:!0}))}(n,{body:JSON.stringify((e=r.metrics,t=[],Os(e.toJSON(),(function(e,n){t.push({name:n,latencies:e})})),t))})).then((function(){return r.metrics.clear()})).catch((function(){return r.metrics.clear()})),a=r.count.isEmpty()?null:lf(function(e,t){return ff(e,"/metrics/counters",ps()({method:"POST"},t,{logErrorsAsInfo:!0}))}(n,{body:JSON.stringify(hf(r.count))})).then((function(){return r.count.clear()})).catch((function(){return r.count.clear()}));return Promise.all([o,a]).then((function(e){return i(),e}))}().then((function(){return e()}))}),n.scheduler.metricsRefreshRate)},flush:function(){return i()},stop:function(){o&&o(),a&&a()},collectors:{segmentChanges:new mf(r),splitChanges:new _f(r),mySegments:new bf(r),client:new kf(r)}}}(e),p=i?void 0:function(e){var t=e.get(e.constants.SETTINGS),n=e.get(e.constants.STORAGE),r=function(){if(n.events.isEmpty())return Promise.resolve();wf.info("Pushing ".concat(n.events.state().length," queued events."));var e=Dc.start(Dc.TaskNames.EVENTS_PUSH),r=JSON.stringify(n.events.toJSON()),i=function(){return e()};return n.events.clear(),Tf(Ef(t,{body:r})).then(i).catch(i)},i=!1,o=!1,a=function(){return o=$l((function(e){return r().then((function(){return e()}))}),t.scheduler.eventsPushRate)};return{start:function(){t.startup.eventsFirstPushWindow>0?i=setTimeout(a,t.startup.eventsFirstPushWindow):a()},flush:function(){return r()},stop:function(){i&&clearTimeout(i),o&&o()},flushAndResetTimer:function(){return wf.info("Flushing events and reseting timer."),o&&o.reset(),r()}}}(e),v=i?void 0:new nh(e);switch(o.mode){case yu:case vu:e.put(e.constants.COLLECTORS,d&&d.collectors),i?r=rh[o.core.authorizationKey].shared(e):(r=function(e){var t={},n=e.get(e.constants.SETTINGS),r=c(!1,e),i=n.streamingEnabled?function(e,t){if(n=jf,If()?"function"==typeof atob&&"function"==typeof btoa||(n.warn('"atob" and "btoa" functions for Base64 encoding are not available. Falling back to polling mode.'),0):(n.warn("EventSource API is not available. Falling back to polling mode."),0)){var n,r=new sc.a,i=e.get(e.constants.READINESS).splits,o=e.get(e.constants.SETTINGS),a=e.get(e.constants.STORAGE),s=Pf.getInstance(o),u=function(e){var t,n,r,i,o,a=(t=e,n=-1,r=!0,i=-1,o=!0,{handleOpen:function(){t.emit("PUSH_CONNECT")},isStreamingUp:function(){return o&&r},handleOccupancyEvent:function(e,i,a){Mf.test(i)&&a>n&&(n=a,o&&(0===e&&r?t.emit("PUSH_DISCONNECT"):0===e||r||t.emit("PUSH_CONNECT")),r=0!==e)},handleControlEvent:function(e,n,a){Mf.test(n)&&a>i&&(i=a,"STREAMING_DISABLED"===e?t.emit("PUSH_DISABLED"):r&&("STREAMING_PAUSED"===e&&o?t.emit("PUSH_DISCONNECT"):"STREAMING_RESUMED"!==e||o||t.emit("PUSH_CONNECT")),o="STREAMING_RESUMED"===e)}});return{handleOpen:function(){a.handleOpen()},handleError:function(t){var n=t;try{n=function(e){return ks(e.data)&&(e.parsedData=JSON.parse(e.data)),e}(t)}catch(r){Ff.warn("Error parsing SSE error notification: ".concat(r))}e.emit("SSE_ERROR",n)},handleMessage:function(t){var n;try{n=function(e){var t=JSON.parse(e.data);return t.parsedData=JSON.parse(t.data),t.name&&"[meta]occupancy"===t.name&&(t.parsedData.type="OCCUPANCY"),t}(t)}catch(s){return void Ff.warn("Error parsing new SSE message notification: ".concat(s))}var r=n.parsedData,i=n.channel,o=n.timestamp;if(Ff.debug("New SSE message received, with data: ".concat(n.data,".")),a.isStreamingUp()||"OCCUPANCY"===r.type||"CONTROL"===r.type)switch(r.type){case"SPLIT_UPDATE":e.emit("SPLIT_UPDATE",r.changeNumber);break;case"SEGMENT_UPDATE":e.emit("SEGMENT_UPDATE",r.changeNumber,r.segmentName);break;case"MY_SEGMENTS_UPDATE":e.emit("MY_SEGMENTS_UPDATE",r,i);break;case"SPLIT_KILL":e.emit("SPLIT_KILL",r.changeNumber,r.splitName,r.defaultTreatment);break;case"OCCUPANCY":a.handleOccupancyEvent(r.metrics.publishers,i,o);break;case"CONTROL":a.handleControlEvent(r.controlType,i,o)}}}}(r);s.setEventHandler(u);var c,l={},f=[],h=!1,d=new Of(_,o.scheduler.authRetryBackoffBase),p=new Of(s.reopen,o.scheduler.streamingReconnectBackoffBase),v=0;r.on("PUSH_DISCONNECT",k),r.on("PUSH_DISABLED",(function(){b(),r.emit("PUSH_DISCONNECT")})),r.on("SSE_ERROR",(function(e){var t;s.close(),t=!e.parsedData||400!==e.parsedData.statusCode&&401!==e.parsedData.statusCode?p.scheduleCall():d.scheduleCall();var n=e.parsedData&&e.parsedData.message;jf.error("Fail to connect to streaming".concat(n?', with error message: "'.concat(n,'"'):"",". Attempting to reconnect in ").concat(t/1e3," seconds.")),r.emit("PUSH_DISCONNECT")}));var y=e.get(e.constants.PRODUCER),g=new Df(a.splits,y,i);if(f.push(g),r.on("SPLIT_KILL",g.killSplit),r.on("SPLIT_UPDATE",g.put),t)r.on("MY_SEGMENTS_UPDATE",(function(n,r){var i=r.split("_")[2],o=l[i];if(o&&t[o]){var a=t[o].get(e.constants.MY_SEGMENTS_CHANGE_WORKER,!0);a&&a.put(n.changeNumber,n.includesPayload?n.segmentList?n.segmentList:[]:void 0)}}));else{var m=new Rf(a.segments,y);f.push(m),r.on("SEGMENT_UPDATE",m.put)}return ps()(Object.create(r),{stop:function(){b(),k()},start:_,startNewClient:function(e,t){var n=Lf(e),r=t.get(t.constants.STORAGE),i=t.get(t.constants.PRODUCER);l[n]||(l[n]=e,h=!0);var o=new Rf(r.segments,i);f.push(o),t.put(t.constants.MY_SEGMENTS_CHANGE_WORKER,o),setTimeout((function(){h&&(h=!1,_())}),0)},removeClient:function(e){var t=Lf(e);delete l[t]}})}function _(){c=!1,jf.info("Connecting to push streaming.");var e=t?Object.keys(t):void 0;(function(e,t){return Cf(function(e,t){var n="/auth";if(t){var r=t.map(Af).join("&");r&&(n+="?"+r)}return ff(e,n)}(e,t)).then((function(e){return e.json()})).then((function(e){if(e.token){var t=(i=e.token.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent((r=i,atob(r)).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),JSON.parse(o));if("number"!=typeof t.iat||"number"!=typeof t.exp)throw'token properties "issuedAt" (iat) or "expiration" (exp) are missing or invalid';var n=JSON.parse(t["x-ably-capability"]);return ps()({decodedToken:t,channels:n},e)}var r,i,o;return e}))})(o,e).then((function(n){if(!c){if(d.reset(),p.reset(),!n.pushEnabled)return jf.info("Streaming is not available. Switching to polling mode."),void r.emit("PUSH_DISCONNECT");if(!(e&&e.length<Object.keys(t).length)){var i=n.decodedToken;s.open(n),function(e,t){v&&clearTimeout(v);var n=t-e-600;jf.info("Refreshing streaming token in ".concat(n," seconds.")),v=setTimeout(_,1e3*n)}(i.iat,i.exp)}}})).catch((function(e){if(!c){s.close(),r.emit("PUSH_DISCONNECT");var t='Failed to authenticate for streaming. Error: "'.concat(e.message,'".');if(e.statusCode>=400&&e.statusCode<500)jf.error(t);else{var n=d.scheduleCall();jf.error("".concat(t,". Attempting to reauthenticate in ").concat(n/1e3," seconds."))}}}))}function b(){c=!0,jf.info("Disconnecting from push streaming."),s.close(),v&&clearTimeout(v),d.reset(),p.reset()}function k(){f.forEach((function(e){return e.backoff.reset()}))}}(e,t):void 0,o=e.get(e.constants.PRODUCER);function a(){o.isRunning()?eh.info("Streaming couldn't connect. Continue periodic fetch of data."):(eh.info("Streaming not available. Starting periodic fetch of data."),Os(t,(function(e){e.get(e.constants.PRODUCER).start()})))}function s(){o.isRunning()&&(eh.info("PUSH (re)connected. Syncing and stopping periodic fetch of data."),Os(t,(function(e){e.get(e.constants.PRODUCER).stop()}))),u()}function u(){e.get(e.constants.PRODUCER).synchronizeSplits(),Os(t,(function(e){e.get(e.constants.PRODUCER).synchronizeMySegments()}))}function c(e,n){var r=e?$f(n):function(e){var t=e.get(e.constants.SETTINGS),n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAll(),r=n[e.constants.SETTINGS],i=n[e.constants.READINESS],o=n[e.constants.STORAGE],a=n[e.constants.COLLECTORS],s=i.splits,u=!0,c=!0;return function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;function i(i){Wf.debug("Spin up split update using since = ".concat(i));var l=Bf(r,i,u,a,t).then((function(e){u=!1;var t=zf(e.splits);return Wf.debug("New splits ".concat(t.added.length)),Wf.debug("Removed splits ".concat(t.removed.length)),Wf.debug("Segment names collected ".concat(t.segments)),Promise.all([o.splits.setChangeNumber(e.till),o.splits.addSplits(t.added),o.splits.removeSplits(t.removed),o.segments.registerSegments(t.segments)]).then((function(){(i!==e.till||c)&&(c=!1,s.emit(s.SDK_SPLITS_ARRIVED))}))})).catch((function(t){return t instanceof of||(setTimeout((function(){throw t}),0),u=!1),Wf.warn("Error while doing fetch of Splits. ".concat(t)),u&&r.startup.retriesOnFailureBeforeReady>n?(Wf.info("Retrying download of splits #".concat(n+=1,". Reason: ").concat(t)),e(n)):(u=!1,!1)}));return u&&o.splits.checkCache()&&s.emit(s.SDK_SPLITS_CACHE_LOADED),l}var l=o.splits.getChangeNumber(),f=vs(l)?l.then(i):Promise.resolve(l);return f.then(i)}}(e),r=Uf(a,t.scheduler.featuresRefreshRate),i=$f(e),o=!1;function a(){return o=!0,n().then((function(e){return o=!1,e}))}return{start:function(){Xf.info("Starting BROWSER producer"),r.start(),i.start()},stop:function(){Xf.info("Stopping BROWSER producer"),r.stop(),i.stop()},isRunning:r.isRunning,isSynchronizingSplits:function(){return o},synchronizeSplits:a,isSynchronizingMySegments:i.isSynchronizingMySegments,synchronizeMySegments:i.synchronizeMySegments}}(n),c=n.get(n.constants.SETTINGS),l=Is(rc(c.core.key));return n.put(n.constants.PRODUCER,r),t[l]&&eh.warn("A client with the same user key has already been created. Only the new instance will be properly synchronized."),t[l]=n,{start:function(){i?(e?o.isRunning()?r.start():r.synchronizeMySegments():(u(),i.on("PUSH_CONNECT",s),i.on("PUSH_DISCONNECT",a)),i.startNewClient(l,n)):r.start()},stop:function(){t[l]&&(delete t[l],i&&(i.removeClient(l),e||i.stop()),r.isRunning()&&r.stop())}}}return r.shared=c.bind(null,!0),r}(e),rh[o.core.authorizationKey]=r);break;case gu:e.put(e.constants.READY_FROM_CACHE,!0)}if(t&&r&&!i){var y=t.sdkReadyTracker,g=t.splitsReadyTracker,m=t.segmentsReadyTracker;y.setCollectorForTask(d.collectors),c.once(h,y),l.once(l.SDK_SPLITS_ARRIVED,g),f.once(f.SDK_SEGMENTS_ARRIVED,m)}r&&r.start(),d&&d.start(),p&&e.put(e.constants.EVENTS,p)&&p.start(),e.put(e.constants.COLLECTORS,n);var _=ps()(Object.create(u),Jl(e),{destroy:function(){return r&&r.stop(),d&&d.stop(),p&&p.stop(),Promise.all([d&&d.flush(),p&&p.flush()]).then((function(){a.destroy(),v&&v.stop(),s.destroy&&s.destroy(),e.put(e.constants.DESTROYED,!0),i||(Js(o.core.authorizationKey),delete rh[o.core.authorizationKey])}))}});return!i&&v.start(_.destroy),{api:_,metricCollectors:d&&d.collectors}};function oh(e){var t=e.treatment;return e.keys?{conditionType:"WHITELIST",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"WHITELIST",negate:!1,whitelistMatcherData:{whitelist:ks(e.keys)?[e.keys]:e.keys}}]},partitions:[{treatment:t,size:100}],label:"whitelisted ".concat(t)}:{conditionType:"ROLLOUT",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"ALL_KEYS",negate:!1}]},partitions:[{treatment:t,size:100}],label:"default rule"}}var ah={emptyMock:1},sh=Ys("splitio-producer:offline"),uh=(function(e,t){var n=t.getAll(),r=n[t.constants.SETTINGS],i=n[t.constants.READINESS],o=n[t.constants.STORAGE];return function(){var t=[],n=null,a={};try{a=e(r)}catch(s){n=s,sh.error("There was an issue loading the mock Splits data, no changes will be applied to the current cache. ".concat(s))}return!n&&a?(sh.debug("Splits data: "),sh.debug(JSON.stringify(a)),Os(a,(function(e,n){t.push([n,JSON.stringify({name:n,status:"ACTIVE",killed:!1,trafficAllocation:100,defaultTreatment:"control",conditions:e.conditions||[],configurations:e.configurations,trafficTypeName:e.trafficTypeName})])})),Promise.all([o.splits.flush(),o.splits.addSplits(t)]).then((function(){i.splits.emit(i.splits.SDK_SPLITS_ARRIVED),i.segments.emit(i.segments.SDK_SEGMENTS_ARRIVED)}))):Promise.resolve()}}).bind(null,(function(e){var t,n,r=e.features||{};if(t=r,!((n=Object.keys(t)).length!==Object.keys(ah).length?(ah=t,1):n.some((function(e){var n,r,i=!ah[e],o=(r=t[e],ys(n=ah[e])!==ys(r)||("string"==typeof n?n!==r:n.treatment!==r.treatment||n.config!==r.config)),a=i||o;return a&&(ah=t),a}))))return!1;var i={};return Os(r,(function(e,t){var n=e,r=null;ws(e)&&(n=e.treatment,r=e.config||r);var o={};null!==r&&(o[n]=r),i[t]={conditions:[oh({treatment:n})],configurations:o}})),i})),ch=function(e,t){var n=!t,r=e.get(e.constants.READINESS),i=e.get(e.constants.STORAGE),o=e.get(e.constants.STATUS_MANAGER);n&&setTimeout((function(){r.gate.emit(r.gate.SDK_READY)}),0);var a=n?void 0:function(e){var t=e.get(e.constants.SETTINGS),n=uh(e);return Uf(n,t.scheduler.offlineRefreshRate)}(e);return a&&a.start(),{api:ps()(Object.create(o),Jl(e),{destroy:function(){return a&&a.stop(),r.destroy(),i.destroy&&i.destroy(),e.put(e.constants.DESTROYED,!0),!n&&Js(),Promise.resolve()}}),metricCollectors:!1}};function lh(e,t){var n=!1,r=!1,i=function e(i){var o=new Promise((function(e,n){return i.then(e,(function(e){r?n(e):t(e)}))})),a=o.then;return o.then=function(t,i){var s=a.call(o,t,i);return"function"==typeof t&&(n=!0),"function"==typeof i?(r=!0,s):e(s)},o}(e);return i.hasOnFulfilled=function(){return n},i}var fh=Ys("");function hh(e){fh.error(e)}function dh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.get(e.constants.READINESS).gate,r=0,i=!1,o=!1,a=n.SDK_READY,s=n.SDK_READY_FROM_CACHE,u=n.SDK_UPDATE,c=n.SDK_READY_TIMED_OUT;n.on("removeListener",(function(e){e===a&&r--})),n.on("newListener",(function(e){e!==a&&e!==c||(i?fh.error("A listener was added for ".concat(e===a?"SDK_READY":"SDK_READY_TIMED_OUT"," on the SDK, which has already fired and won't be emitted again. The callback won't be executed.")):e===a&&r++)}));var l=f();function f(){var s=lh(new Promise((function(u,l){n.once(a,(function(){r!==t||s.hasOnFulfilled()||fh.warn("No listeners for SDK Readiness detected. Incorrect control treatments could have been logged if you called getTreatment/s while the SDK was not yet ready."),e.put(e.constants.READY,!0),i=!0,u()})),n.once(c,(function(t){e.put(e.constants.HAS_TIMEDOUT,!0),o=!0,l(t)}))})),hh);return s}return n.once(s,(function(){fh.info("Split SDK is ready from cache."),e.put(e.constants.READY_FROM_CACHE,!0)})),ps()(Object.create(n),{Event:{SDK_READY:a,SDK_READY_FROM_CACHE:s,SDK_UPDATE:u,SDK_READY_TIMED_OUT:c},ready:function(){return o?i?Promise.resolve():lh(Promise.reject("Split SDK has emitted SDK_READY_TIMED_OUT event."),hh):l},__context:e})}var ph,vh=Ys("splitio-ga-to-split"),yh=(ph={eventTypeId:{event:"eventAction",social:"socialAction"},eventValue:{event:"eventValue",timing:"timingValue"},eventProperties:{pageview:["page"],screenview:["screenName"],event:["eventCategory","eventLabel"],social:["socialNetwork","socialTarget"],timing:["timingCategory","timingVar","timingLabel"],exception:["exDescription","exFatal"]}},function(e){var t=e.get("hitType"),n=e.get(ph.eventTypeId[t]||"hitType"),r=e.get(ph.eventValue[t]),i={},o=ph.eventProperties[t];if(o)for(var a=0;a<o.length;a++)i[o[a]]=e.get(o[a]);return{eventTypeId:n,value:r,properties:i,timestamp:Date.now()}}),gh=/^[^a-zA-Z0-9]+/,mh=/[^-_.:a-zA-Z0-9]+/g,_h=Ys("splitio-split-to-ga"),bh=function(){function e(t){if(Ds(this,e),"function"!=typeof e.getGa())return _h.warn("`ga` command queue not found. No hits will be sent."),{};this.trackerNames=e.defaultTrackerNames,t&&("function"==typeof t.filter&&(this.filter=t.filter),"function"==typeof t.mapper&&(this.mapper=t.mapper),Array.isArray(t.trackerNames)&&(this.trackerNames=As(t.trackerNames)),this.impressions=t.impressions,this.events=t.events),_h.info("Started Split-to-GA integration")}return Ps(e,null,[{key:"defaultMapper",value:function(e){var t=e.payload;switch(e.type){case"IMPRESSION":return{hitType:"event",eventCategory:"split-impression",eventAction:"Evaluate "+t.impression.feature,eventLabel:"Treatment: "+t.impression.treatment+". Targeting rule: "+t.impression.label+".",nonInteraction:!0};case"EVENT":return{hitType:"event",eventCategory:"split-event",eventAction:t.eventTypeId,eventValue:t.value,nonInteraction:!0}}return null}},{key:"getGa",value:function(){return"undefined"!=typeof window?window[window.GoogleAnalyticsObject||"ga"]:void 0}},{key:"validateFieldsObject",value:function(e){return!(!e||!e.hitType)||(_h.warn("your custom mapper returned an invalid FieldsObject instance. It must be an object with at least a `hitType` field."),!1)}}]),Ps(e,[{key:"queue",value:function(t){var n=e.getGa();if(n){if(!1===this.impressions&&"IMPRESSION"===t.type)return;if(!1===this.events&&"EVENT"===t.type)return;var r;try{if(this.filter&&!this.filter(t))return;if(r=e.defaultMapper(t),this.mapper&&(!(r=this.mapper(t,r))||!e.validateFieldsObject(r)))return}catch(i){return void _h.warn("SplitToGa queue method threw: ".concat(i,". No hit was sent."))}this.trackerNames.forEach((function(e){var t=e?"".concat(e,".send"):"send";r.splitHit=!0,n(t,r)}))}}}]),e}();bh.defaultTrackerNames=[""];var kh=bh,Sh=Ys("splitio"),Th=function(e,t){return"".concat(e.matchingKey?e.matchingKey:e,"-").concat(e.bucketingKey?e.bucketingKey:e,"-").concat(void 0!==t?t:"")};function Eh(e){var t,n,r={},i={splitsReadyTracker:Dc.start(Dc.TaskNames.SPLITS_READY),segmentsReadyTracker:Dc.start(Dc.TaskNames.SEGMENTS_READY),sdkReadyTracker:Dc.start(Dc.TaskNames.SDK_READY)},o=new bc,a=function(e){return ps()(Object.create(mc),function(e){var t,n,r,i,o,a,s,u,c=Cs({},yc,uc,e);c.scheduler.featuresRefreshRate=gc(c.scheduler.featuresRefreshRate),c.scheduler.segmentsRefreshRate=gc(c.scheduler.segmentsRefreshRate),c.scheduler.metricsRefreshRate=gc(c.scheduler.metricsRefreshRate),c.scheduler.impressionsRefreshRate=gc(c.scheduler.impressionsRefreshRate),c.scheduler.offlineRefreshRate=gc(c.scheduler.offlineRefreshRate),c.scheduler.eventsPushRate=gc(c.scheduler.eventsPushRate),c.startup.requestTimeoutBeforeReady=gc(c.startup.requestTimeoutBeforeReady),c.startup.readyTimeout=gc(c.startup.readyTimeout),c.startup.eventsFirstPushWindow=gc(c.startup.eventsFirstPushWindow),c.mode=function(e,t){if("localhost"===e)return"localhost";if(-1===[vu,yu,gu].indexOf(t))throw Error("Invalid mode provided");return t}(c.core.authorizationKey,c.mode),c.storage=(o=void 0===(i=(r=(n=c).storage).type)?"MEMORY":i,s=void 0===(a=r.options)?{}:a,(u=r.prefix)?u+=".SPLITIO":u="SPLITIO","localhost"===n.mode?{type:"MEMORY",prefix:u}:(("MEMORY"!==o&&"LOCALSTORAGE"!==o||"LOCALSTORAGE"===o&&!Us())&&(o="MEMORY",cc.warn("Invalid or unavailable storage. Fallbacking into MEMORY storage")),{type:o,options:s,prefix:u})),"boolean"==typeof(t=c.debug)?t?qs.enable():qs.disable():"string"==typeof t&&qs.setLogLevel(t),c.runtime={ip:!1,hostname:!1},c.integrations=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.integrations;if(!Array.isArray(n)||0===n.length)return[];var r=n.filter((function(e){return e&&ks(e.type)&&t.indexOf(e.type)>-1})),i=n.length-r.length;return i&&lc.warn("".concat(i," integration ").concat(1===i?"item":"items"," at settings ").concat(1===i?"is":"are"," invalid: integration items must have a valid 'type' value")),r}(e,["GOOGLE_ANALYTICS_TO_SPLIT","SPLIT_TO_GOOGLE_ANALYTICS"])}(c),!1!==c.streamingEnabled&&(c.streamingEnabled=!0,c.scheduler.authRetryBackoffBase=gc(c.scheduler.authRetryBackoffBase),c.scheduler.streamingReconnectBackoffBase=gc(c.scheduler.streamingReconnectBackoffBase));var l,f,h,d,p=(d={validFilters:[],queryString:null,groupedFilters:{}},(l=c.sync.splitFilters)?c.mode!==vu?(fc.warn("Factory instantiation: split filters have been configured but will have no effect if mode is not '".concat(vu,"', since synchronization is being deferred to an external tool.")),d):Array.isArray(l)&&0!==l.length?(bu.forEach((function(e){d.groupedFilters[e.type]=[]})),d.validFilters=l.filter((function(e,t){return e&&(n=e.type,bu.some((function(e){return e.type===n})))&&Array.isArray(e.values)?(d.groupedFilters[e.type]=d.groupedFilters[e.type].concat(e.values),!0):(fc.warn("Factory instantiation: split filter at position '".concat(t,"' is invalid. It must be an object with a valid filter type ('byName' or 'byPrefix') and a list of 'values'.")),!1);var n})),bu.forEach((function(e){var t=e.type;d.groupedFilters[t].length>0&&(d.groupedFilters[t]=function(e,t,n){var r=pu(t,"Factory instantiation","".concat(e," filter"),"".concat(e," filter value"));if(r){if(r.length>n)throw new Error("".concat(n," unique values can be specified at most for '").concat(e,"' filter. You passed ").concat(r.length,". Please consider reducing the amount or using other filter."));r.sort()}return r||[]}(t,d.groupedFilters[t],e.maxLength))})),d.queryString=(f=d.groupedFilters,h=[],bu.forEach((function(e){var t=f[e.type];t.length>0&&h.push(e.queryParam+t.map((function(e){return encodeURIComponent(e)})).join(","))})),h.length>0?"&"+h.join("&"):null),fc.debug("Factory instantiation: splits filtering criteria is '".concat(d.queryString,"'.")),d):(fc.warn("Factory instantiation: splitFilters configuration must be a non-empty array of filter objects."),d):d);return c.sync.splitFilters=p.validFilters,c.sync.__splitFiltersValidation=p,c}(e))}(e);o.put(o.constants.SETTINGS,a),n=!1,null==(t=a.core.authorizationKey)?Zs.error("Factory instantiation: you passed a null or undefined api_key, api_key must be a non-empty string."):ks(t)?t.length>0?n=t:Zs.error("Factory instantiation: you passed an empty api_key, api_key must be a non-empty string."):Zs.error("Factory instantiation: you passed an invalid api_key, api_key must be a non-empty string."),n&&(Qs[n]?(Zs.warn("Factory instantiation: You already have ".concat(Qs[n]," ").concat(1===Qs[n]?"factory":"factories"," with this API Key. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application.")),Qs[n]++):(Qs[n]=1,Object.keys(Qs).length>1&&Zs.warn("Factory instantiation: You already have an instance of the Split factory. Make sure you definitely want this additional instance. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application.")));var s=function(){var e=0,t=new sc.a;t.SDK_SPLITS_CACHE_LOADED="state::splits-cache-loaded",t.SDK_SPLITS_ARRIVED="state::splits-arrived";var n=0;function r(t,n){var r=new sc.a,i=0,o=0;return r.on("state::check",(function(){14!==o&&e+i===6?(o=14,r.emit("init::ready")):14===o&&r.emit("state::update")})),t.on("state::splits-arrived",(function(t){t||(e=2),r.emit("state::check")})),t.once("state::splits-cache-loaded",(function(){setTimeout((function(){return r.emit("init::cache-ready")}),0)})),n.on("state::segments-arrived",(function(){i=4,r.emit("state::check")})),r}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=0,o=new sc.a;o.SDK_SEGMENTS_ARRIVED="state::segments-arrived";var a=r(t,o);return e>0&&(i=setTimeout((function(){a.emit("init::timeout","Split SDK emitted SDK_READY_TIMED_OUT event.")}),e),a.once("init::ready",(function(){return clearTimeout(i)}))),a.SDK_READY="init::ready",a.SDK_READY_FROM_CACHE="init::cache-ready",a.SDK_UPDATE="state::update",a.SDK_READY_TIMED_OUT="init::timeout",n++,{splits:t,segments:o,gate:a,destroy:function(){o.removeAllListeners(),a.removeAllListeners(),clearTimeout(i),n>0&&n--,0===n&&t.removeAllListeners()}}}}(),u=s(a.startup.readyTimeout);o.put(o.constants.READINESS,u);var c=dh(o);o.put(o.constants.STATUS_MANAGER,c);var l=function(e){var t=e.get(e.constants.SETTINGS);switch(t.storage.type){case"MEMORY":var n=new Ju(t);return{splits:new Mu,segments:new Hu(n),impressions:new Ku,metrics:new Wu,count:new zu,events:new qu(e),shared:function(e){var t=new Ju(e);return{splits:this.splits,segments:new Hu(t),impressions:this.impressions,metrics:this.metrics,count:this.count,events:this.events,destroy:function(){this.splits=new Mu,this.segments.flush()}}},destroy:function(){this.splits.flush(),this.segments.flush(),this.impressions.clear(),this.metrics.clear(),this.count.clear(),this.events.clear()}};case"LOCALSTORAGE":var r=new oc(t),i=Date.now()-864e6;return{splits:new ju(r,i,t.sync.__splitFiltersValidation),segments:new Vu(r),impressions:new Ku,metrics:new Wu,count:new zu,events:new qu(e),shared:function(e){var t=new oc(e);return{splits:this.splits,segments:new Vu(t),impressions:this.impressions,metrics:this.metrics,count:this.count,events:this.events,destroy:function(){this.splits=new Mu,this.segments=new Hu(t)}}},destroy:function(){this.splits=new Mu,this.segments=new Hu(new Ju(t)),this.impressions.clear(),this.metrics.clear(),this.count.clear(),this.events.clear()}};default:throw new Error("Unsupported storage type")}}(o);o.put(o.constants.STORAGE,l);var f=function(e){var t=e.get(e.constants.SETTINGS),n=[];if(t.integrations.forEach((function(r){var i;switch(r.type){case"GOOGLE_ANALYTICS_TO_SPLIT":i=function(e,t,n){var r,i,o={prefix:"ga",identities:n.key&&n.trafficType?[{key:n.key,trafficType:n.trafficType}]:void 0};r=function n(r,i){Ds(this,n);var a=ps()({},o,e,i);this.tracker=r;var s,u=(s=a.identities,Array.isArray(s)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.stringify,n={};return e.filter((function(e){var r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)}))}(s).filter((function(e){if(!e)return!1;var t=e.key,n=e.trafficType;return!(!ks(t)&&!Ss(t)||!ks(n))})):[]);if(0!==u.length){var c=u.length-a.identities.length;c&&vh.warn("".concat(c," identities were discarded because they are invalid or duplicated. Identities must be an array of objects with key and trafficType.")),a.identities=u,ks(a.prefix)||(vh.warn("The provided `prefix` was ignored since it is invalid. Please check that you are passing a string object as `prefix`."),a.prefix=void 0);var l=r.get("sendHitTask");r.set("sendHitTask",(function(e){if(l(e),!1!==a.hits&&!e.get("splitHit")){try{if(a.filter&&!a.filter(e))return}catch(r){return void vh.warn("GaToSplit custom filter threw: ".concat(r))}var n=yh(e);if(a.mapper){try{n=a.mapper(e,n)}catch(r){return void vh.warn("GaToSplit custom mapper threw: ".concat(r))}if(!n)return}a.prefix&&(n.eventTypeId="".concat(a.prefix,".").concat(n.eventTypeId)),n.eventTypeId=function(e){if(!ks(e)||0===e.length)return e;var t=e.replace(gh,"").replace(mh,"_"),n=t.slice(0,80);return n.length<t.length&&vh.warn("EventTypeId was truncated because it cannot be more than 80 characters long."),n}(n.eventTypeId),function(e){return!(!tu(e.eventTypeId,"splitio-ga-to-split:mapper")||!1===ru(e.value,"splitio-ga-to-split:mapper")||!1===ou(e.properties,"splitio-ga-to-split:mapper").properties||e.timestamp&&!Ss(e.timestamp)||e.key&&!1===uu(e.key,"splitio-ga-to-split:mapper")||e.trafficTypeName&&!1===Tu(e.trafficTypeName,"splitio-ga-to-split:mapper"))}(n)&&(n.key&&n.trafficTypeName?t.events.track(event):a.identities.forEach((function(e){var r=ps()({key:e.key,trafficTypeName:e.trafficType},n);t.events.track(r)})))}})),vh.info("Started GA-to-Split integration")}else vh.warn("No valid identities were provided. Please check that you are passing a valid list of identities or providing a traffic type at the SDK configuration.")},i=window.GoogleAnalyticsObject||"ga",window[i]=window[i]||function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(window[i].q=window[i].q||[]).push(t)},window[i]("provide","splitTracker",r)}(r,e.get(e.constants.STORAGE),t.core);break;case"SPLIT_TO_GOOGLE_ANALYTICS":i=new kh(r)}i&&i.queue&&n.push(i)})),0!==n.length)return{handleImpression:function(e){n.forEach((function(t){return t.queue({type:"IMPRESSION",payload:e})}))},handleEvent:function(e){n.forEach((function(t){return t.queue({type:"EVENT",payload:e})}))}}}(o);o.put(o.constants.INTEGRATIONS_MANAGER,f);var h="localhost"===a.mode?ch:ih,d=h(o,i),p=d.api,v=d.metricCollectors,y=function(e,t){var n=t.get(t.constants.STATUS_MANAGER);return ps()(Object.create(n),{split:function(n){var r=fu(n,"split");if(!Au(t)||!Iu(t,"split")||!r)return null;var i=e.getSplit(r);return vs(i)?i.then((function(e){return hu(t,r,e,"split"),Ou(e)})):(hu(t,r,i,"split"),Ou(i))},splits:function(){if(!Au(t)||!Iu(t,"splits"))return[];var n=e.getAll();return vs(n)?n.then(Ru):Ru(n)},names:function(){return Au(t)&&Iu(t,"names")?e.getKeys():[]}})}(l.splits,o),g=kc(a.core.key),m=Th(g,a.core.trafficType);return r[m]=p,Sh.info("New Split SDK instance created."),{client:function(e,t){if(void 0===e)return Sh.debug("Retrieving default SDK client."),p;if("function"!=typeof l.shared)throw"Shared Client not supported by the storage mechanism. Create isolated instances instead.";var n,i=uu(e,"Shared Client instantiation");if(!1===i)throw"Shared Client needs a valid key.";if(void 0!==t&&!1===(n=Tu(t,"Shared Client instantiation")))throw"Shared Client needs a valid traffic type or no traffic type at all.";var u=Th(i,n);if(r[u])Sh.debug("Retrieving existing SDK client.");else{var c=a.overrideKeyAndTT(i,n),f=new bc,d=s(c.startup.readyTimeout);f.put(o.constants.READY_FROM_CACHE,o.get(o.constants.READY_FROM_CACHE,!0)),f.put(o.constants.READINESS,d),f.put(o.constants.STATUS_MANAGER,dh(f,-1)),f.put(o.constants.SETTINGS,c),f.put(o.constants.STORAGE,l.shared(c)),r[u]=h(f,!1,v).api,Sh.info("New shared client instance created.")}return r[u]},manager:function(){return Sh.info("Manager instance retrieved."),y},Logger:qs,settings:a}}function wh(e,t){1&e&&(Ri(0,"div",1),Ri(1,"img",2,void 0),Di(),Di())}function Ch(e,t){1&e&&(Ri(0,"div",1),Ri(1,"p"),Pi(2,"No coffe :("),Di(),Di())}var Ah,Ih,Nh=((Ih=function(){function e(){_classCallCheck2(this,e),this.title="featureFlag"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=Eh({core:{authorizationKey:"gtv9iof6lm31b94t3o055qlv39du21huuvvf",key:"CUSTOMER_ID"}}).client();t.on(t.Event.SDK_READY,(function(){var n=t.getTreatment("brew-coffee");e.brewCoffee=!!n}))}}]),e}()).\u0275fac=function(e){return new(e||Ih)},Ih.\u0275cmp=Ye({type:Ih,selectors:[["app-root"]],decls:4,vars:2,consts:[["class","covfefe",4,"ngIf"],[1,"covfefe"],["src","https://media1.tenor.com/images/445208ab92a994be1cab515c21f24287/tenor.gif?itemid=8990434"]],template:function(e,t){1&e&&(Ri(0,"p"),Pi(1,"Heeeelo"),Di(),Ai(2,wh,2,0,"div",0),Ai(3,Ch,3,0,"div",0)),2&e&&(Zn(2),Ni("ngIf",t.brewCoffee),Zn(1),Ni("ngIf",!t.brewCoffee))},directives:[Aa],styles:[""]}),Ih),Oh=((Ah=function e(){_classCallCheck2(this,e)}).\u0275mod=$e({type:Ah,bootstrap:[Nh]}),Ah.\u0275inj=X({factory:function(e){return new(e||Ah)},providers:[],imports:[[hs]]}),Ah);(function(){if(Nn)throw new Error("Cannot enable prod mode after platform setup.");In=!1})(),ls().bootstrapModule(Oh).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);